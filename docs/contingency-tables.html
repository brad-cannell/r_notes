<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Contingency Tables | R Notes</title>
  <meta name="description" content="This is the Bookdown for Brad Cannellâ€™s R Notes." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Contingency Tables | R Notes" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://brad-cannell.github.io/r_notes/" />
  
  <meta property="og:description" content="This is the Bookdown for Brad Cannellâ€™s R Notes." />
  <meta name="github-repo" content="brad-cannell/r_notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Contingency Tables | R Notes" />
  
  <meta name="twitter:description" content="This is the Bookdown for Brad Cannellâ€™s R Notes." />
  

<meta name="author" content="Brad Cannell" />


<meta name="date" content="2022-07-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="column-names-prepping-many-for-merge.html"/>
<link rel="next" href="effect-measure-modification.html"/>
<script src="libs/header-attrs-2.14/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.20/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />
<link href="libs/tabwid-1.0.0/scrool.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Notes</a></li>

<li class="divider"></li>
<li><a href="index.html#welcome">Welcome<span></span></a>
<ul>
<li><a href="index.html#organization">Organization<span></span></a></li>
</ul></li>
<li class="part"><span><b>I Programming<span></span></b></span></li>
<li class="chapter" data-level="1" data-path="my-package-notes.html"><a href="my-package-notes.html"><i class="fa fa-check"></i><b>1</b> Packages: Quick Start<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="my-package-notes.html"><a href="my-package-notes.html#overview"><i class="fa fa-check"></i><b>1.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="my-package-notes.html"><a href="my-package-notes.html#useful-websites"><i class="fa fa-check"></i><b>1.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="my-package-notes.html"><a href="my-package-notes.html#quick-process"><i class="fa fa-check"></i><b>1.3</b> Quick Process<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="my-package-notes.html"><a href="my-package-notes.html#before-creating-the-package"><i class="fa fa-check"></i><b>1.4</b> Before creating the package<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="my-package-notes.html"><a href="my-package-notes.html#create"><i class="fa fa-check"></i><b>1.5</b> Step 1: Create the package project<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="my-package-notes.html"><a href="my-package-notes.html#notes"><i class="fa fa-check"></i><b>1.6</b> Step 2: Add a NOTES file<span></span></a></li>
<li class="chapter" data-level="1.7" data-path="my-package-notes.html"><a href="my-package-notes.html#license"><i class="fa fa-check"></i><b>1.7</b> Step 3: Add license<span></span></a></li>
<li class="chapter" data-level="1.8" data-path="my-package-notes.html"><a href="my-package-notes.html#modify"><i class="fa fa-check"></i><b>1.8</b> Step 4: Modify the description file<span></span></a></li>
<li class="chapter" data-level="1.9" data-path="my-package-notes.html"><a href="my-package-notes.html#readme"><i class="fa fa-check"></i><b>1.9</b> Step 5: Add README<span></span></a></li>
<li class="chapter" data-level="1.10" data-path="my-package-notes.html"><a href="my-package-notes.html#git"><i class="fa fa-check"></i><b>1.10</b> Step 6: Add Git<span></span></a></li>
<li class="chapter" data-level="1.11" data-path="my-package-notes.html"><a href="my-package-notes.html#github"><i class="fa fa-check"></i><b>1.11</b> Step 7: Connect to GitHub<span></span></a></li>
<li class="chapter" data-level="1.12" data-path="my-package-notes.html"><a href="my-package-notes.html#package-functions"><i class="fa fa-check"></i><b>1.12</b> Step 8: Adding content to the package<span></span></a>
<ul>
<li class="chapter" data-level="1.12.1" data-path="my-package-notes.html"><a href="my-package-notes.html#working-with-r-scripts"><i class="fa fa-check"></i><b>1.12.1</b> Working with R scripts<span></span></a></li>
<li class="chapter" data-level="1.12.2" data-path="my-package-notes.html"><a href="my-package-notes.html#adding-help-pages-to-functions"><i class="fa fa-check"></i><b>1.12.2</b> Adding help pages to functions<span></span></a></li>
<li class="chapter" data-level="1.12.3" data-path="my-package-notes.html"><a href="my-package-notes.html#example-roxygen-header"><i class="fa fa-check"></i><b>1.12.3</b> Example <code>roxygen</code> header<span></span></a></li>
<li class="chapter" data-level="1.12.4" data-path="my-package-notes.html"><a href="my-package-notes.html#dont-run-the-examples"><i class="fa fa-check"></i><b>1.12.4</b> Donâ€™t run the examples<span></span></a></li>
<li class="chapter" data-level="1.12.5" data-path="my-package-notes.html"><a href="my-package-notes.html#keyboard-shortcut-for-inserting-roxygen-comment"><i class="fa fa-check"></i><b>1.12.5</b> Keyboard shortcut for inserting roxygen #â€™ comment<span></span></a></li>
<li class="chapter" data-level="1.12.6" data-path="my-package-notes.html"><a href="my-package-notes.html#simulating-data"><i class="fa fa-check"></i><b>1.12.6</b> Simulating data<span></span></a></li>
<li class="chapter" data-level="1.12.7" data-path="my-package-notes.html"><a href="my-package-notes.html#documenting-data"><i class="fa fa-check"></i><b>1.12.7</b> Documenting data<span></span></a></li>
<li class="chapter" data-level="1.12.8" data-path="my-package-notes.html"><a href="my-package-notes.html#documenting-package"><i class="fa fa-check"></i><b>1.12.8</b> Documenting Package<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.13" data-path="my-package-notes.html"><a href="my-package-notes.html#testing"><i class="fa fa-check"></i><b>1.13</b> Step 9: Creating unit tests<span></span></a></li>
<li class="chapter" data-level="1.14" data-path="my-package-notes.html"><a href="my-package-notes.html#vignettes"><i class="fa fa-check"></i><b>1.14</b> Step 10: Vignettes<span></span></a>
<ul>
<li class="chapter" data-level="1.14.1" data-path="my-package-notes.html"><a href="my-package-notes.html#to-create-a-vignette"><i class="fa fa-check"></i><b>1.14.1</b> To create a vignette:<span></span></a></li>
<li class="chapter" data-level="1.14.2" data-path="my-package-notes.html"><a href="my-package-notes.html#vignette-notes"><i class="fa fa-check"></i><b>1.14.2</b> Vignette Notes:<span></span></a></li>
<li class="chapter" data-level="1.14.3" data-path="my-package-notes.html"><a href="my-package-notes.html#pkgdown"><i class="fa fa-check"></i><b>1.14.3</b> Pkgdown<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.15" data-path="my-package-notes.html"><a href="my-package-notes.html#cran"><i class="fa fa-check"></i><b>1.15</b> Submitting to CRAN<span></span></a></li>
<li class="chapter" data-level="1.16" data-path="my-package-notes.html"><a href="my-package-notes.html#other-random-notes"><i class="fa fa-check"></i><b>1.16</b> Other random notes<span></span></a>
<ul>
<li class="chapter" data-level="1.16.1" data-path="my-package-notes.html"><a href="my-package-notes.html#get-rid-of-.ds_store"><i class="fa fa-check"></i><b>1.16.1</b> Get rid of .DS_Store<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.17" data-path="my-package-notes.html"><a href="my-package-notes.html#errors-warnings-notes"><i class="fa fa-check"></i><b>1.17</b> Errors, warnings, notes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="creating-rmd-templates.html"><a href="creating-rmd-templates.html"><i class="fa fa-check"></i><b>2</b> Creating Rmd Templates<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="creating-rmd-templates.html"><a href="creating-rmd-templates.html#overview-1"><i class="fa fa-check"></i><b>2.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="creating-rmd-templates.html"><a href="creating-rmd-templates.html#useful-websites-1"><i class="fa fa-check"></i><b>2.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="creating-rmd-templates.html"><a href="creating-rmd-templates.html#create-a-package"><i class="fa fa-check"></i><b>2.3</b> Create a package<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="creating-rmd-templates.html"><a href="creating-rmd-templates.html#add-a-template-to-your-package"><i class="fa fa-check"></i><b>2.4</b> Add a template to your package<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html"><i class="fa fa-check"></i><b>3</b> Tidy Evaluation<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#overview-2"><i class="fa fa-check"></i><b>3.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#useful-websites-2"><i class="fa fa-check"></i><b>3.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#load-packages"><i class="fa fa-check"></i><b>3.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#simulate-data"><i class="fa fa-check"></i><b>3.4</b> ğŸ”¢Simulate data<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#load-starwars-data"><i class="fa fa-check"></i><b>3.5</b> Load Starwars data<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#why-use-tidy-evaluation"><i class="fa fa-check"></i><b>3.6</b> Why use tidy evaluation?<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#what-is-tidy-evaluation"><i class="fa fa-check"></i><b>3.7</b> What is tidy evaluation?<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#vocabulary"><i class="fa fa-check"></i><b>3.8</b> Vocabulary<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#key_functions"><i class="fa fa-check"></i><b>3.9</b> Key Functions<span></span></a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-qq_show-function"><i class="fa fa-check"></i><b>3.9.1</b> The qq_show function<span></span></a></li>
<li class="chapter" data-level="3.9.2" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-quo-function"><i class="fa fa-check"></i><b>3.9.2</b> The quo function<span></span></a></li>
<li class="chapter" data-level="3.9.3" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-enquo-function"><i class="fa fa-check"></i><b>3.9.3</b> The enquo function<span></span></a></li>
<li class="chapter" data-level="3.9.4" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-embrace-operator"><i class="fa fa-check"></i><b>3.9.4</b> The embrace operator<span></span></a></li>
<li class="chapter" data-level="3.9.5" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-quos-function"><i class="fa fa-check"></i><b>3.9.5</b> The quos function<span></span></a></li>
<li class="chapter" data-level="3.9.6" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#enquos"><i class="fa fa-check"></i><b>3.9.6</b> The enquos function<span></span></a></li>
<li class="chapter" data-level="3.9.7" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-as_label-and-as_name-functions"><i class="fa fa-check"></i><b>3.9.7</b> The as_label and as_name functions<span></span></a></li>
<li class="chapter" data-level="3.9.8" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-sym-function"><i class="fa fa-check"></i><b>3.9.8</b> The sym function<span></span></a></li>
<li class="chapter" data-level="3.9.9" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-syms-function"><i class="fa fa-check"></i><b>3.9.9</b> The syms function<span></span></a></li>
<li class="chapter" data-level="3.9.10" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#the-rlang-prounouns"><i class="fa fa-check"></i><b>3.9.10</b> The rlang prounouns<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#for_loop"><i class="fa fa-check"></i><b>3.10</b> Example: for Loop<span></span></a></li>
<li class="chapter" data-level="3.11" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#functions"><i class="fa fa-check"></i><b>3.11</b> Example: function<span></span></a></li>
<li class="chapter" data-level="3.12" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#nesting"><i class="fa fa-check"></i><b>3.12</b> Nesting functions with data masking<span></span></a></li>
<li class="chapter" data-level="3.13" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#purrr"><i class="fa fa-check"></i><b>3.13</b> Using purrr<span></span></a></li>
<li class="chapter" data-level="3.14" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#quirks"><i class="fa fa-check"></i><b>3.14</b> Other Quirks and Lessons Learned<span></span></a>
<ul>
<li class="chapter" data-level="3.14.1" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#when-doesnt-work"><i class="fa fa-check"></i><b>3.14.1</b> When !! doesnâ€™t work<span></span></a></li>
<li class="chapter" data-level="3.14.2" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#unquoting-inside-non-dplyr-functions"><i class="fa fa-check"></i><b>3.14.2</b> Unquoting inside non-dplyr functions<span></span></a></li>
<li class="chapter" data-level="3.14.3" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#using-a-quoture-to-create-variable-name-in-mutate"><i class="fa fa-check"></i><b>3.14.3</b> Using a quoture to create variable name in mutate<span></span></a></li>
<li class="chapter" data-level="3.14.4" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#using-a-quoture-to-turn-a-variable-name-into-a-constant-value"><i class="fa fa-check"></i><b>3.14.4</b> Using a quoture to turn a variable name into a constant value<span></span></a></li>
<li class="chapter" data-level="3.14.5" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#convert-a-string-to-a-quoture"><i class="fa fa-check"></i><b>3.14.5</b> Convert a string to a quoture<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.15" data-path="tidy-evaluation.html"><a href="tidy-evaluation.html#example-i-created-for-steph-yap"><i class="fa fa-check"></i><b>3.15</b> Example I created for Steph Yap<span></span></a></li>
</ul></li>
<li class="part"><span><b>II Working with External Files<span></span></b></span></li>
<li class="part"><span><b>III Data Management<span></span></b></span></li>
<li class="chapter" data-level="4" data-path="arranging-columns-with-across.html"><a href="arranging-columns-with-across.html"><i class="fa fa-check"></i><b>4</b> Arranging Columns with Across<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="arranging-columns-with-across.html"><a href="arranging-columns-with-across.html#solution-by-lmc"><i class="fa fa-check"></i><b>4.1</b> Solution by LMc:<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html"><i class="fa fa-check"></i><b>5</b> Column Names: Prepping Many for Merge<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#overview-3"><i class="fa fa-check"></i><b>5.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#useful-websites-3"><i class="fa fa-check"></i><b>5.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#load-packages-1"><i class="fa fa-check"></i><b>5.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#simulate-data-1"><i class="fa fa-check"></i><b>5.4</b> ğŸ”¢Simulate data<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#get-the-existing-column-names"><i class="fa fa-check"></i><b>5.5</b> Get the existing column names<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#standardize-new-column-names"><i class="fa fa-check"></i><b>5.6</b> Standardize new column names<span></span></a></li>
<li class="chapter" data-level="5.7" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#turn-this-into-a-function"><i class="fa fa-check"></i><b>5.7</b> Turn this into a function<span></span></a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#make-a-unit-test-for-the-function"><i class="fa fa-check"></i><b>5.7.1</b> Make a unit test for the function<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#manual-changes-to-column-names"><i class="fa fa-check"></i><b>5.8</b> Manual changes to column names<span></span></a></li>
<li class="chapter" data-level="5.9" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#have-r-write-out-the-rename-code"><i class="fa fa-check"></i><b>5.9</b> Have R write out the rename code<span></span></a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#make-it-a-function"><i class="fa fa-check"></i><b>5.9.1</b> Make it a function<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#rename-the-columns"><i class="fa fa-check"></i><b>5.10</b> Rename the columns<span></span></a></li>
<li class="chapter" data-level="5.11" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#repeat-the-process-for-v2"><i class="fa fa-check"></i><b>5.11</b> Repeat the process for V2<span></span></a></li>
<li class="chapter" data-level="5.12" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#repeat-the-process-for-v3"><i class="fa fa-check"></i><b>5.12</b> Repeat the process for V3<span></span></a></li>
<li class="chapter" data-level="5.13" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#merge-all-3-visits"><i class="fa fa-check"></i><b>5.13</b> Merge all 3 visits<span></span></a></li>
<li class="chapter" data-level="5.14" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#final-data-cleaning"><i class="fa fa-check"></i><b>5.14</b> Final data cleaning<span></span></a></li>
<li class="chapter" data-level="5.15" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#the-dplyr-way"><i class="fa fa-check"></i><b>5.15</b> ğŸŸ£The dplyr way<span></span></a>
<ul>
<li class="chapter" data-level="5.15.1" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#standardize-new-column-names-1"><i class="fa fa-check"></i><b>5.15.1</b> Standardize new column names<span></span></a></li>
<li class="chapter" data-level="5.15.2" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#manual-changes-to-column-names-1"><i class="fa fa-check"></i><b>5.15.2</b> Manual changes to column names 1<span></span></a></li>
<li class="chapter" data-level="5.15.3" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#merge-all-3-visits-1"><i class="fa fa-check"></i><b>5.15.3</b> Merge all 3 visits<span></span></a></li>
<li class="chapter" data-level="5.15.4" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#manual-changes-to-column-names-2"><i class="fa fa-check"></i><b>5.15.4</b> Manual changes to column names 2<span></span></a></li>
<li class="chapter" data-level="5.15.5" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#final-data-cleaning-1"><i class="fa fa-check"></i><b>5.15.5</b> Final data cleaning<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.16" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#making-a-key-in-google-sheets"><i class="fa fa-check"></i><b>5.16</b> ğŸŸ¢ Making a key in Google Sheets<span></span></a>
<ul>
<li class="chapter" data-level="5.16.1" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#create-the-google-sheet-column-name-key"><i class="fa fa-check"></i><b>5.16.1</b> Create the Google Sheet column name key<span></span></a></li>
<li class="chapter" data-level="5.16.2" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#import-the-google-sheet-column-name-key"><i class="fa fa-check"></i><b>5.16.2</b> Import the Google Sheet column name key<span></span></a></li>
<li class="chapter" data-level="5.16.3" data-path="column-names-prepping-many-for-merge.html"><a href="column-names-prepping-many-for-merge.html#reorder-and-rename-the-current-data-frame"><i class="fa fa-check"></i><b>5.16.3</b> Reorder and rename the current data frame<span></span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Analysis<span></span></b></span></li>
<li class="chapter" data-level="6" data-path="contingency-tables.html"><a href="contingency-tables.html"><i class="fa fa-check"></i><b>6</b> Contingency Tables<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="contingency-tables.html"><a href="contingency-tables.html#overview-4"><i class="fa fa-check"></i><b>6.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="contingency-tables.html"><a href="contingency-tables.html#useful-websites-4"><i class="fa fa-check"></i><b>6.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="contingency-tables.html"><a href="contingency-tables.html#load-packages-2"><i class="fa fa-check"></i><b>6.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="contingency-tables.html"><a href="contingency-tables.html#terminology"><i class="fa fa-check"></i><b>6.4</b> Terminology<span></span></a></li>
<li class="chapter" data-level="6.5" data-path="contingency-tables.html"><a href="contingency-tables.html#scenario"><i class="fa fa-check"></i><b>6.5</b> Scenario<span></span></a></li>
<li class="chapter" data-level="6.6" data-path="contingency-tables.html"><a href="contingency-tables.html#manually-creating-each-data-structure"><i class="fa fa-check"></i><b>6.6</b> Manually creating each data structure<span></span></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="contingency-tables.html"><a href="contingency-tables.html#data-frame-of-observations"><i class="fa fa-check"></i><b>6.6.1</b> Data frame of observations<span></span></a></li>
<li class="chapter" data-level="6.6.2" data-path="contingency-tables.html"><a href="contingency-tables.html#man-freq-tbl"><i class="fa fa-check"></i><b>6.6.2</b> Frequency table<span></span></a></li>
<li class="chapter" data-level="6.6.3" data-path="contingency-tables.html"><a href="contingency-tables.html#contingency-tables-1"><i class="fa fa-check"></i><b>6.6.3</b> Contingency tables<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="contingency-tables.html"><a href="contingency-tables.html#table-objects"><i class="fa fa-check"></i><b>6.7</b> Table objects<span></span></a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="contingency-tables.html"><a href="contingency-tables.html#table-object-from-matrix"><i class="fa fa-check"></i><b>6.7.1</b> Table object from matrix<span></span></a></li>
<li class="chapter" data-level="6.7.2" data-path="contingency-tables.html"><a href="contingency-tables.html#table-object-from-df"><i class="fa fa-check"></i><b>6.7.2</b> Table object from df<span></span></a></li>
<li class="chapter" data-level="6.7.3" data-path="contingency-tables.html"><a href="contingency-tables.html#why"><i class="fa fa-check"></i><b>6.7.3</b> Why use table objects?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="contingency-tables.html"><a href="contingency-tables.html#convert-a-contingency-table-into-a-frequency-table"><i class="fa fa-check"></i><b>6.8</b> Convert a contingency table into a frequency table<span></span></a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="contingency-tables.html"><a href="contingency-tables.html#matrix-object"><i class="fa fa-check"></i><b>6.8.1</b> Matrix object<span></span></a></li>
<li class="chapter" data-level="6.8.2" data-path="contingency-tables.html"><a href="contingency-tables.html#table-object-from-df-1"><i class="fa fa-check"></i><b>6.8.2</b> Table object from df<span></span></a></li>
<li class="chapter" data-level="6.8.3" data-path="contingency-tables.html"><a href="contingency-tables.html#data-frame-contingency-table"><i class="fa fa-check"></i><b>6.8.3</b> Data frame contingency table<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="contingency-tables.html"><a href="contingency-tables.html#convert-ct-to-df"><i class="fa fa-check"></i><b>6.9</b> Convert a contingency table into a data frame of observations<span></span></a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="contingency-tables.html"><a href="contingency-tables.html#matrix-object-1"><i class="fa fa-check"></i><b>6.9.1</b> Matrix object<span></span></a></li>
<li class="chapter" data-level="6.9.2" data-path="contingency-tables.html"><a href="contingency-tables.html#table-from-matrix-to-df-obs"><i class="fa fa-check"></i><b>6.9.2</b> Table object<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="contingency-tables.html"><a href="contingency-tables.html#convert-a-frequency-table-into-a-contingency-table."><i class="fa fa-check"></i><b>6.10</b> Convert a frequency table into a contingency table.<span></span></a></li>
<li class="chapter" data-level="6.11" data-path="contingency-tables.html"><a href="contingency-tables.html#convert-a-frequency-table-into-a-data-frame-of-observations."><i class="fa fa-check"></i><b>6.11</b> Convert a frequency table into a data frame of observations.<span></span></a></li>
<li class="chapter" data-level="6.12" data-path="contingency-tables.html"><a href="contingency-tables.html#bottom-line"><i class="fa fa-check"></i><b>6.12</b> Bottom line<span></span></a></li>
<li class="chapter" data-level="6.13" data-path="contingency-tables.html"><a href="contingency-tables.html#helper-functions"><i class="fa fa-check"></i><b>6.13</b> Helper functions<span></span></a>
<ul>
<li class="chapter" data-level="6.13.1" data-path="contingency-tables.html"><a href="contingency-tables.html#create-a-contingency-table"><i class="fa fa-check"></i><b>6.13.1</b> Create a contingency table<span></span></a></li>
<li class="chapter" data-level="6.13.2" data-path="contingency-tables.html"><a href="contingency-tables.html#here-down-needs-refinement"><i class="fa fa-check"></i><b>6.13.2</b> ğŸ”´Here down needs refinement<span></span></a></li>
<li class="chapter" data-level="6.13.3" data-path="contingency-tables.html"><a href="contingency-tables.html#counts-to-cases"><i class="fa fa-check"></i><b>6.13.3</b> Counts to cases<span></span></a></li>
<li class="chapter" data-level="6.13.4" data-path="contingency-tables.html"><a href="contingency-tables.html#freqtable-to-contingency-table"><i class="fa fa-check"></i><b>6.13.4</b> Freqtable to contingency table<span></span></a></li>
<li class="chapter" data-level="6.13.5" data-path="contingency-tables.html"><a href="contingency-tables.html#contingency-table-to-freqtable"><i class="fa fa-check"></i><b>6.13.5</b> Contingency table to freqtable<span></span></a></li>
<li class="chapter" data-level="6.13.6" data-path="contingency-tables.html"><a href="contingency-tables.html#freqtable-to-data-frame-of-observations"><i class="fa fa-check"></i><b>6.13.6</b> Freqtable to data frame of observations<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="effect-measure-modification.html"><a href="effect-measure-modification.html"><i class="fa fa-check"></i><b>7</b> Effect-measure modification<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="effect-measure-modification.html"><a href="effect-measure-modification.html#overview-5"><i class="fa fa-check"></i><b>7.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="effect-measure-modification.html"><a href="effect-measure-modification.html#useful-websites-5"><i class="fa fa-check"></i><b>7.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="effect-measure-modification.html"><a href="effect-measure-modification.html#load-packages-3"><i class="fa fa-check"></i><b>7.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="effect-measure-modification.html"><a href="effect-measure-modification.html#simulate-data-2"><i class="fa fa-check"></i><b>7.4</b> ğŸ”¢Simulate data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="risk-difference.html"><a href="risk-difference.html"><i class="fa fa-check"></i><b>8</b> Risk Difference<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="risk-difference.html"><a href="risk-difference.html#overview-6"><i class="fa fa-check"></i><b>8.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="risk-difference.html"><a href="risk-difference.html#useful-websites-6"><i class="fa fa-check"></i><b>8.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="risk-difference.html"><a href="risk-difference.html#load-packages-4"><i class="fa fa-check"></i><b>8.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="risk-difference.html"><a href="risk-difference.html#data-summary"><i class="fa fa-check"></i><b>8.4</b> Data Summary<span></span></a></li>
<li class="chapter" data-level="8.5" data-path="risk-difference.html"><a href="risk-difference.html#simulate-data-3"><i class="fa fa-check"></i><b>8.5</b> ğŸ”¢Simulate data<span></span></a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="risk-difference.html"><a href="risk-difference.html#simulate-a-matrix-object"><i class="fa fa-check"></i><b>8.5.1</b> Simulate a matrix object<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="risk-difference.html"><a href="risk-difference.html#analysis"><i class="fa fa-check"></i><b>8.6</b> ğŸ“ˆAnalysis<span></span></a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="risk-difference.html"><a href="risk-difference.html#incidence-proportion"><i class="fa fa-check"></i><b>8.6.1</b> Incidence proportion<span></span></a></li>
<li class="chapter" data-level="8.6.2" data-path="risk-difference.html"><a href="risk-difference.html#risk-differences"><i class="fa fa-check"></i><b>8.6.2</b> Risk Differences<span></span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Data Visualization<span></span></b></span></li>
<li class="chapter" data-level="9" data-path="plot-populations-and-samples.html"><a href="plot-populations-and-samples.html"><i class="fa fa-check"></i><b>9</b> Plot populations and samples<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="plot-populations-and-samples.html"><a href="plot-populations-and-samples.html#overview-7"><i class="fa fa-check"></i><b>9.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="plot-populations-and-samples.html"><a href="plot-populations-and-samples.html#useful-websites-7"><i class="fa fa-check"></i><b>9.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="plot-populations-and-samples.html"><a href="plot-populations-and-samples.html#load-packages-5"><i class="fa fa-check"></i><b>9.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="9.4" data-path="plot-populations-and-samples.html"><a href="plot-populations-and-samples.html#simulate-data-4"><i class="fa fa-check"></i><b>9.4</b> ğŸ”¢Simulate data<span></span></a></li>
</ul></li>
<li class="part"><span><b>VI Presenting Results<span></span></b></span></li>
<li class="chapter" data-level="10" data-path="blogdown.html"><a href="blogdown.html"><i class="fa fa-check"></i><b>10</b> Blogdown<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="blogdown.html"><a href="blogdown.html#overview-8"><i class="fa fa-check"></i><b>10.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="blogdown.html"><a href="blogdown.html#useful-websites-8"><i class="fa fa-check"></i><b>10.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="10.3" data-path="blogdown.html"><a href="blogdown.html#load-packages-6"><i class="fa fa-check"></i><b>10.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="10.4" data-path="blogdown.html"><a href="blogdown.html#blogdown-commands-to-remember"><i class="fa fa-check"></i><b>10.4</b> Blogdown commands to remember<span></span></a></li>
<li class="chapter" data-level="10.5" data-path="blogdown.html"><a href="blogdown.html#creating-new-content"><i class="fa fa-check"></i><b>10.5</b> Creating new content<span></span></a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="blogdown.html"><a href="blogdown.html#step-1.-create-a-landing-page"><i class="fa fa-check"></i><b>10.5.1</b> Step 1. Create a landing page<span></span></a></li>
<li class="chapter" data-level="10.5.2" data-path="blogdown.html"><a href="blogdown.html#step-2.-add-widgets-to-the-landing-page"><i class="fa fa-check"></i><b>10.5.2</b> Step 2. Add widgets to the landing page<span></span></a></li>
<li class="chapter" data-level="10.5.3" data-path="blogdown.html"><a href="blogdown.html#step-3.-add-content-to-the-widgets"><i class="fa fa-check"></i><b>10.5.3</b> Step 3. Add content to the widgets<span></span></a></li>
<li class="chapter" data-level="10.5.4" data-path="blogdown.html"><a href="blogdown.html#step-4.-add-a-banner-image-to-the-landing-page."><i class="fa fa-check"></i><b>10.5.4</b> Step 4. Add a banner image to the landing page.<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="blogdown.html"><a href="blogdown.html#editing-widget-metadata"><i class="fa fa-check"></i><b>10.6</b> Editing widget metadata<span></span></a></li>
<li class="chapter" data-level="10.7" data-path="blogdown.html"><a href="blogdown.html#editing-about-widget-content"><i class="fa fa-check"></i><b>10.7</b> Editing about widget content<span></span></a></li>
<li class="chapter" data-level="10.8" data-path="blogdown.html"><a href="blogdown.html#adjusting-site-configuration-files"><i class="fa fa-check"></i><b>10.8</b> Adjusting site configuration files<span></span></a></li>
<li class="chapter" data-level="10.9" data-path="blogdown.html"><a href="blogdown.html#other-little-adjustments"><i class="fa fa-check"></i><b>10.9</b> Other little adjustments<span></span></a></li>
<li class="chapter" data-level="10.10" data-path="blogdown.html"><a href="blogdown.html#custom-css"><i class="fa fa-check"></i><b>10.10</b> Custom CSS<span></span></a></li>
<li class="chapter" data-level="10.11" data-path="blogdown.html"><a href="blogdown.html#changing-the-domain"><i class="fa fa-check"></i><b>10.11</b> Changing the domain<span></span></a></li>
<li class="chapter" data-level="10.12" data-path="blogdown.html"><a href="blogdown.html#error-fixes"><i class="fa fa-check"></i><b>10.12</b> Error fixes<span></span></a>
<ul>
<li class="chapter" data-level="10.12.1" data-path="blogdown.html"><a href="blogdown.html#blogdowncheck_netlify"><i class="fa fa-check"></i><b>10.12.1</b> blogdown::check_netlify()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.13" data-path="blogdown.html"><a href="blogdown.html#adding-google-analytics"><i class="fa fa-check"></i><b>10.13</b> Adding Google Analytics<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="book-chapters.html"><a href="book-chapters.html"><i class="fa fa-check"></i><b>11</b> Bookdown: Creating Book Chapters<span></span></a>
<ul>
<li class="chapter" data-level="11.1" data-path="book-chapters.html"><a href="book-chapters.html#chapter-overview"><i class="fa fa-check"></i><b>11.1</b> Chapter overview<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="book-chapters.html"><a href="book-chapters.html#motivating-example"><i class="fa fa-check"></i><b>11.2</b> Motivating example<span></span></a></li>
<li class="chapter" data-level="11.3" data-path="book-chapters.html"><a href="book-chapters.html#body"><i class="fa fa-check"></i><b>11.3</b> Body<span></span></a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="book-chapters.html"><a href="book-chapters.html#language"><i class="fa fa-check"></i><b>11.3.1</b> Language<span></span></a></li>
<li class="chapter" data-level="11.3.2" data-path="book-chapters.html"><a href="book-chapters.html#text-conventions"><i class="fa fa-check"></i><b>11.3.2</b> Text conventions<span></span></a></li>
<li class="chapter" data-level="11.3.3" data-path="book-chapters.html"><a href="book-chapters.html#special-sections"><i class="fa fa-check"></i><b>11.3.3</b> Special sections<span></span></a></li>
<li class="chapter" data-level="11.3.4" data-path="book-chapters.html"><a href="book-chapters.html#images"><i class="fa fa-check"></i><b>11.3.4</b> Images<span></span></a></li>
<li class="chapter" data-level="11.3.5" data-path="book-chapters.html"><a href="book-chapters.html#videos"><i class="fa fa-check"></i><b>11.3.5</b> Videos<span></span></a></li>
<li class="chapter" data-level="11.3.6" data-path="book-chapters.html"><a href="book-chapters.html#font-awesome"><i class="fa fa-check"></i><b>11.3.6</b> Font Awesome<span></span></a></li>
<li class="chapter" data-level="11.3.7" data-path="book-chapters.html"><a href="book-chapters.html#links"><i class="fa fa-check"></i><b>11.3.7</b> Links<span></span></a></li>
<li class="chapter" data-level="11.3.8" data-path="book-chapters.html"><a href="book-chapters.html#code-blocks"><i class="fa fa-check"></i><b>11.3.8</b> Code blocks<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="book-chapters.html"><a href="book-chapters.html#cross-references"><i class="fa fa-check"></i><b>11.4</b> Cross-references<span></span></a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="book-chapters.html"><a href="book-chapters.html#cr-figs"><i class="fa fa-check"></i><b>11.4.1</b> Cross-referencing figures<span></span></a></li>
<li class="chapter" data-level="11.4.2" data-path="book-chapters.html"><a href="book-chapters.html#cross-referencing-chapters"><i class="fa fa-check"></i><b>11.4.2</b> Cross-referencing chapters<span></span></a></li>
<li class="chapter" data-level="11.4.3" data-path="book-chapters.html"><a href="book-chapters.html#cross-referencing-unnumbered-chapters"><i class="fa fa-check"></i><b>11.4.3</b> Cross-referencing unnumbered chapters<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="book-chapters.html"><a href="book-chapters.html#citations"><i class="fa fa-check"></i><b>11.5</b> Citations<span></span></a></li>
<li class="chapter" data-level="11.6" data-path="book-chapters.html"><a href="book-chapters.html#previewing-the-chapter"><i class="fa fa-check"></i><b>11.6</b> Previewing the chapter<span></span></a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="book-chapters.html"><a href="book-chapters.html#miscelaneous"><i class="fa fa-check"></i><b>11.6.1</b> Miscelaneous<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="book-chapters.html"><a href="book-chapters.html#additional-resources-function-to-check"><i class="fa fa-check"></i><b>11.7</b> Additional resources: function to check<span></span></a></li>
<li class="chapter" data-level="11.8" data-path="book-chapters.html"><a href="book-chapters.html#key-terms-function-to-add-to-appendix"><i class="fa fa-check"></i><b>11.8</b> Key terms : function to add to appendix<span></span></a></li>
<li class="chapter" data-level="11.9" data-path="book-chapters.html"><a href="book-chapters.html#final-example-code-function-to-add-to-appendix"><i class="fa fa-check"></i><b>11.9</b> Final example code : function to add to appendix<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html"><i class="fa fa-check"></i><b>12</b> Bookdown: Quick Start<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#overview-9"><i class="fa fa-check"></i><b>12.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="12.2" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#useful-websites-9"><i class="fa fa-check"></i><b>12.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="12.3" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#creating-the-bookdown-project-locally"><i class="fa fa-check"></i><b>12.3</b> Creating the bookdown project locally<span></span></a></li>
<li class="chapter" data-level="12.4" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#initiate-a-git-repository"><i class="fa fa-check"></i><b>12.4</b> Initiate a git repository<span></span></a></li>
<li class="chapter" data-level="12.5" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#create-a-github-repository-for-the-book"><i class="fa fa-check"></i><b>12.5</b> Create a github repository for the book<span></span></a></li>
<li class="chapter" data-level="12.6" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#configuring-a-publishing-source-for-the-github-pages-site"><i class="fa fa-check"></i><b>12.6</b> Configuring a publishing source for the GitHub Pages site<span></span></a></li>
<li class="chapter" data-level="12.7" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#modify-_bookdown.yml"><i class="fa fa-check"></i><b>12.7</b> Modify _bookdown.yml<span></span></a></li>
<li class="chapter" data-level="12.8" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#modify-_output.yml"><i class="fa fa-check"></i><b>12.8</b> Modify _output.yml<span></span></a></li>
<li class="chapter" data-level="12.9" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#modify-style.css"><i class="fa fa-check"></i><b>12.9</b> Modify style.css<span></span></a></li>
<li class="chapter" data-level="12.10" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#modify-index.rmd"><i class="fa fa-check"></i><b>12.10</b> Modify index.Rmd<span></span></a></li>
<li class="chapter" data-level="12.11" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#creating-bookdown-chapters"><i class="fa fa-check"></i><b>12.11</b> Creating bookdown chapters<span></span></a></li>
<li class="chapter" data-level="12.12" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#knitting-the-book"><i class="fa fa-check"></i><b>12.12</b> Knitting the book<span></span></a></li>
<li class="chapter" data-level="12.13" data-path="bookdown-quick-start.html"><a href="bookdown-quick-start.html#errors-and-warnings"><i class="fa fa-check"></i><b>12.13</b> Errors and warnings<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="flexdashboard.html"><a href="flexdashboard.html"><i class="fa fa-check"></i><b>13</b> Flexdashboard<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="flexdashboard.html"><a href="flexdashboard.html#overview-10"><i class="fa fa-check"></i><b>13.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="13.2" data-path="flexdashboard.html"><a href="flexdashboard.html#useful-websites-10"><i class="fa fa-check"></i><b>13.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="13.3" data-path="flexdashboard.html"><a href="flexdashboard.html#load-packages-7"><i class="fa fa-check"></i><b>13.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="13.4" data-path="flexdashboard.html"><a href="flexdashboard.html#tips"><i class="fa fa-check"></i><b>13.4</b> Tips<span></span></a></li>
<li class="chapter" data-level="13.5" data-path="flexdashboard.html"><a href="flexdashboard.html#simulate-data-5"><i class="fa fa-check"></i><b>13.5</b> ğŸ”¢Simulate data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="flextable.html"><a href="flextable.html"><i class="fa fa-check"></i><b>14</b> Flextable<span></span></a>
<ul>
<li class="chapter" data-level="14.1" data-path="flextable.html"><a href="flextable.html#overview-11"><i class="fa fa-check"></i><b>14.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="14.2" data-path="flextable.html"><a href="flextable.html#useful-websites-11"><i class="fa fa-check"></i><b>14.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="14.3" data-path="flextable.html"><a href="flextable.html#load-packages-8"><i class="fa fa-check"></i><b>14.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="14.4" data-path="flextable.html"><a href="flextable.html#load-data"><i class="fa fa-check"></i><b>14.4</b> Load data<span></span></a></li>
<li class="chapter" data-level="14.5" data-path="flextable.html"><a href="flextable.html#i-and-j"><i class="fa fa-check"></i><b>14.5</b> ğŸ”µ i and j<span></span></a></li>
<li class="chapter" data-level="14.6" data-path="flextable.html"><a href="flextable.html#flextable-wrappers"><i class="fa fa-check"></i><b>14.6</b> ğŸ”µ Flextable wrappers<span></span></a></li>
<li class="chapter" data-level="14.7" data-path="flextable.html"><a href="flextable.html#addingmodifying-table-content"><i class="fa fa-check"></i><b>14.7</b> ğŸ”µ Adding/modifying table content<span></span></a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="flextable.html"><a href="flextable.html#add-table-title-with-bold-part"><i class="fa fa-check"></i><b>14.7.1</b> Add table title with bold part<span></span></a></li>
<li class="chapter" data-level="14.7.2" data-path="flextable.html"><a href="flextable.html#adding-blank-rows"><i class="fa fa-check"></i><b>14.7.2</b> Adding blank rows<span></span></a></li>
<li class="chapter" data-level="14.7.3" data-path="flextable.html"><a href="flextable.html#change-column-header-text"><i class="fa fa-check"></i><b>14.7.3</b> Change column header text<span></span></a></li>
<li class="chapter" data-level="14.7.4" data-path="flextable.html"><a href="flextable.html#change-row-header-text"><i class="fa fa-check"></i><b>14.7.4</b> Change row header text<span></span></a></li>
<li class="chapter" data-level="14.7.5" data-path="flextable.html"><a href="flextable.html#add-footnote"><i class="fa fa-check"></i><b>14.7.5</b> Add footnote<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="flextable.html"><a href="flextable.html#formatting"><i class="fa fa-check"></i><b>14.8</b> ğŸ”µ Formatting<span></span></a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="flextable.html"><a href="flextable.html#change-font-to-tnr"><i class="fa fa-check"></i><b>14.8.1</b> Change font to TNR<span></span></a></li>
<li class="chapter" data-level="14.8.2" data-path="flextable.html"><a href="flextable.html#conditional-formatting"><i class="fa fa-check"></i><b>14.8.2</b> Conditional formatting<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="flextable.html"><a href="flextable.html#layout"><i class="fa fa-check"></i><b>14.9</b> ğŸ”µLayout<span></span></a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="flextable.html"><a href="flextable.html#autofit-to-contents"><i class="fa fa-check"></i><b>14.9.1</b> Autofit to contents<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="flextable.html"><a href="flextable.html#examples"><i class="fa fa-check"></i><b>14.10</b> ğŸ”µ Examples<span></span></a>
<ul>
<li class="chapter" data-level="14.10.1" data-path="flextable.html"><a href="flextable.html#lead-panel-summarize-votes"><i class="fa fa-check"></i><b>14.10.1</b> LEAD panel summarize votes<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="language-for-publications.html"><a href="language-for-publications.html"><i class="fa fa-check"></i><b>15</b> Language for publications<span></span></a>
<ul>
<li class="chapter" data-level="15.1" data-path="language-for-publications.html"><a href="language-for-publications.html#overview-12"><i class="fa fa-check"></i><b>15.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="15.2" data-path="language-for-publications.html"><a href="language-for-publications.html#useful-websites-12"><i class="fa fa-check"></i><b>15.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="15.3" data-path="language-for-publications.html"><a href="language-for-publications.html#load-packages-9"><i class="fa fa-check"></i><b>15.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="15.4" data-path="language-for-publications.html"><a href="language-for-publications.html#statistical-software"><i class="fa fa-check"></i><b>15.4</b> Statistical software<span></span></a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="language-for-publications.html"><a href="language-for-publications.html#r"><i class="fa fa-check"></i><b>15.4.1</b> R<span></span></a></li>
<li class="chapter" data-level="15.4.2" data-path="language-for-publications.html"><a href="language-for-publications.html#stata"><i class="fa fa-check"></i><b>15.4.2</b> Stata<span></span></a></li>
<li class="chapter" data-level="15.4.3" data-path="language-for-publications.html"><a href="language-for-publications.html#sas"><i class="fa fa-check"></i><b>15.4.3</b> SAS<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="language-for-publications.html"><a href="language-for-publications.html#irb"><i class="fa fa-check"></i><b>15.5</b> IRB<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="officer.html"><a href="officer.html"><i class="fa fa-check"></i><b>16</b> Officer<span></span></a>
<ul>
<li class="chapter" data-level="16.1" data-path="officer.html"><a href="officer.html#overview-13"><i class="fa fa-check"></i><b>16.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="16.2" data-path="officer.html"><a href="officer.html#useful-websites-13"><i class="fa fa-check"></i><b>16.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="16.3" data-path="officer.html"><a href="officer.html#load-packages-10"><i class="fa fa-check"></i><b>16.3</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="16.4" data-path="officer.html"><a href="officer.html#formatted-text"><i class="fa fa-check"></i><b>16.4</b> Formatted text<span></span></a></li>
<li class="chapter" data-level="16.5" data-path="officer.html"><a href="officer.html#bulleted-list"><i class="fa fa-check"></i><b>16.5</b> Bulleted list<span></span></a></li>
<li class="chapter" data-level="16.6" data-path="officer.html"><a href="officer.html#adding-on-to-the-end-of-a-file."><i class="fa fa-check"></i><b>16.6</b> Adding on to the end of a file.<span></span></a></li>
<li class="chapter" data-level="16.7" data-path="officer.html"><a href="officer.html#using-bookmarks"><i class="fa fa-check"></i><b>16.7</b> Using bookmarks<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>17</b> Tables<span></span></a>
<ul>
<li class="chapter" data-level="17.1" data-path="tables.html"><a href="tables.html#overview-14"><i class="fa fa-check"></i><b>17.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="17.2" data-path="tables.html"><a href="tables.html#projects-to-review-and-incorporate"><i class="fa fa-check"></i><b>17.2</b> Projects to review and incorporate<span></span></a></li>
<li class="chapter" data-level="17.3" data-path="tables.html"><a href="tables.html#useful-websites-14"><i class="fa fa-check"></i><b>17.3</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="17.4" data-path="tables.html"><a href="tables.html#load-packages-11"><i class="fa fa-check"></i><b>17.4</b> ğŸ“¦Load packages<span></span></a></li>
<li class="chapter" data-level="17.5" data-path="tables.html"><a href="tables.html#simulate-data-6"><i class="fa fa-check"></i><b>17.5</b> ğŸ”¢Simulate data<span></span></a></li>
<li class="chapter" data-level="17.6" data-path="tables.html"><a href="tables.html#example-table-1"><i class="fa fa-check"></i><b>17.6</b> ğŸ”µ Example: Table 1<span></span></a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="tables.html"><a href="tables.html#step-1.-calculate-the-outcome-distribution"><i class="fa fa-check"></i><b>17.6.1</b> Step 1. Calculate the outcome distribution<span></span></a></li>
<li class="chapter" data-level="17.6.2" data-path="tables.html"><a href="tables.html#step-2.-prepare-to-calculate-summary-statistics"><i class="fa fa-check"></i><b>17.6.2</b> Step 2. Prepare to calculate summary statistics<span></span></a></li>
<li class="chapter" data-level="17.6.3" data-path="tables.html"><a href="tables.html#step-3.-create-a-data-frame-that-contains-our-summary-statistics"><i class="fa fa-check"></i><b>17.6.3</b> Step 3. Create a data frame that contains our summary statistics<span></span></a></li>
<li class="chapter" data-level="17.6.4" data-path="tables.html"><a href="tables.html#step-5.-create-flextable"><i class="fa fa-check"></i><b>17.6.4</b> Step 5. Create flextable<span></span></a></li>
<li class="chapter" data-level="17.6.5" data-path="tables.html"><a href="tables.html#step-6.-formatting-flextable"><i class="fa fa-check"></i><b>17.6.5</b> Step 6. Formatting flextable<span></span></a></li>
<li class="chapter" data-level="17.6.6" data-path="tables.html"><a href="tables.html#load-word-template-for-officer"><i class="fa fa-check"></i><b>17.6.6</b> ğŸ“ Load Word template for officer<span></span></a></li>
<li class="chapter" data-level="17.6.7" data-path="tables.html"><a href="tables.html#generate-word-reports"><i class="fa fa-check"></i><b>17.6.7</b> ğŸ“ Generate Word reports<span></span></a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VII Shiny<span></span></b></span></li>
<li class="part"><span><b>VIII Collaborating<span></span></b></span></li>
<li class="chapter" data-level="18" data-path="git-and-github.html"><a href="git-and-github.html"><i class="fa fa-check"></i><b>18</b> Git and GitHub<span></span></a>
<ul>
<li class="chapter" data-level="18.1" data-path="git-and-github.html"><a href="git-and-github.html#overview-15"><i class="fa fa-check"></i><b>18.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="18.2" data-path="git-and-github.html"><a href="git-and-github.html#useful-websites-15"><i class="fa fa-check"></i><b>18.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="18.3" data-path="git-and-github.html"><a href="git-and-github.html#commit-message"><i class="fa fa-check"></i><b>18.3</b> Commit message<span></span></a></li>
<li class="chapter" data-level="18.4" data-path="git-and-github.html"><a href="git-and-github.html#get-rid-of-.ds_store-1"><i class="fa fa-check"></i><b>18.4</b> Get rid of .DS_Store<span></span></a></li>
<li class="chapter" data-level="18.5" data-path="git-and-github.html"><a href="git-and-github.html#amend"><i class="fa fa-check"></i><b>18.5</b> Amend<span></span></a></li>
<li class="chapter" data-level="18.6" data-path="git-and-github.html"><a href="git-and-github.html#pull-requests"><i class="fa fa-check"></i><b>18.6</b> Pull Requests<span></span></a></li>
<li class="chapter" data-level="18.7" data-path="git-and-github.html"><a href="git-and-github.html#branches"><i class="fa fa-check"></i><b>18.7</b> Branches<span></span></a></li>
<li class="chapter" data-level="18.8" data-path="git-and-github.html"><a href="git-and-github.html#squashing-commits"><i class="fa fa-check"></i><b>18.8</b> Squashing commits<span></span></a></li>
</ul></li>
<li class="part"><span><b>IX Appendix<span></span></b></span></li>
<li class="chapter" data-level="19" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html"><i class="fa fa-check"></i><b>19</b> Appendix A: Terms and Definitions<span></span></a>
<ul>
<li class="chapter" data-level="19.1" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html#overview-16"><i class="fa fa-check"></i><b>19.1</b> â­ï¸Overview<span></span></a></li>
<li class="chapter" data-level="19.2" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html#useful-websites-16"><i class="fa fa-check"></i><b>19.2</b> ğŸŒUseful websites<span></span></a></li>
<li class="chapter" data-level="19.3" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html#terms"><i class="fa fa-check"></i><b>19.3</b> ğŸ“–Terms<span></span></a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html#general-terms"><i class="fa fa-check"></i><b>19.3.1</b> General Terms<span></span></a></li>
<li class="chapter" data-level="19.3.2" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html#general-statistics-terms"><i class="fa fa-check"></i><b>19.3.2</b> General statistics terms<span></span></a></li>
<li class="chapter" data-level="19.3.3" data-path="appendix-a-terms-and-definitions.html"><a href="appendix-a-terms-and-definitions.html#measures-of-occurence"><i class="fa fa-check"></i><b>19.3.3</b> Measures of occurence<span></span></a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="contingency-tables" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Contingency Tables<a href="contingency-tables.html#contingency-tables" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!--
Don't forget to add code for converting from a contingency table back into raw data. See the useful websites below. 
-->
<p><img src="https://picsum.photos/200/300" /><!-- --></p>
<div id="overview-4" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> â­ï¸Overview<a href="contingency-tables.html#overview-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In Epi III (and epidemiology in general) we use a lot of contingency tables - especially 2x2 contingency tables. In this note, we play around with several different ways of creating, and working with, contingency tables. This can include converting them to a data frame format for some analyses. We explore some of the pros and cons of each of each method.</p>
</div>
<div id="useful-websites-4" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> ğŸŒUseful websites<a href="contingency-tables.html#useful-websites-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><a href="https://sphweb.bumc.bu.edu/otlt/mph-modules/ep/ep713_association/ep713_association_print.html">Boston University</a></p></li>
<li><p><a href="https://cran.r-project.org/web/packages/DescTools/vignettes/TablesInR.pdf">Tables in R â€“ A quick practical overview</a>. By Andri Signorell.</p></li>
<li><p><a href="https://stackoverflow.com/questions/2894775/repeat-each-row-of-data-frame-the-number-of-times-specified-in-a-column">Stack Overflow: Repeat each row of data.frame the number of times specified in a column</a></p></li>
<li><p><a href="http://www.cookbook-r.com/Manipulating_data/Converting_between_data_frames_and_contingency_tables/">Cookbook for R</a></p></li>
<li><p><a href="https://stackoverflow.com/questions/48330888/r-convert-contingency-table-to-long-data-frame">Stak Overflow: Convert contingency table to long data.frame</a></p></li>
</ul>
</div>
<div id="load-packages-2" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> ğŸ“¦Load packages<a href="contingency-tables.html#load-packages-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="contingency-tables.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div id="terminology" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Terminology<a href="contingency-tables.html#terminology" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the text below, we use the following terminology to distinguish three different structural representations of our data:</p>
<ul>
<li><code>Data frame of observations</code>: A data frame where each row represents one observation (typically an individual person).</li>
</ul>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="contingency-tables.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic example</span></span>
<span id="cb235-2"><a href="contingency-tables.html#cb235-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb235-3"><a href="contingency-tables.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">medication =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;No&quot;</span>, <span class="dv">10</span>), <span class="fu">rep</span>(<span class="st">&quot;Yes&quot;</span>, <span class="dv">10</span>)),</span>
<span id="cb235-4"><a href="contingency-tables.html#cb235-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fall =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;No&quot;</span>, <span class="dv">8</span>), <span class="fu">rep</span>(<span class="st">&quot;Yes&quot;</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="st">&quot;No&quot;</span>, <span class="dv">6</span>), <span class="fu">rep</span>(<span class="st">&quot;Yes&quot;</span>, <span class="dv">4</span>))</span>
<span id="cb235-5"><a href="contingency-tables.html#cb235-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb235-6"><a href="contingency-tables.html#cb235-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 20 Ã— 2
##    medication fall 
##    &lt;chr&gt;      &lt;chr&gt;
##  1 No         No   
##  2 No         No   
##  3 No         No   
##  4 No         No   
##  5 No         No   
##  6 No         No   
##  7 No         No   
##  8 No         No   
##  9 No         Yes  
## 10 No         Yes  
## 11 Yes        No   
## 12 Yes        No   
## 13 Yes        No   
## 14 Yes        No   
## 15 Yes        No   
## 16 Yes        No   
## 17 Yes        Yes  
## 18 Yes        Yes  
## 19 Yes        Yes  
## 20 Yes        Yes</code></pre>
<ul>
<li><code>Contingency table</code>: A grid-like table with the categories of one variable (typically the exposure of interest) making up the rows and the categories of a second variable (typically the outcome of interest) making up the columns of the table. The table contains the number of observations with the particular combination of row and column values that intersect at each cell.</li>
</ul>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="contingency-tables.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic example</span></span>
<span id="cb237-2"><a href="contingency-tables.html#cb237-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df)</span></code></pre></div>
<pre><code>##           fall
## medication No Yes
##        No   8   2
##        Yes  6   4</code></pre>
<ul>
<li><code>Frequency table</code>: A data frame of counts (and optionally, other relevant statistics), where each row represents a particular combination of values from two or more categorical variables.</li>
</ul>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="contingency-tables.html#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic example</span></span>
<span id="cb239-2"><a href="contingency-tables.html#cb239-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb239-3"><a href="contingency-tables.html#cb239-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(medication, fall)</span></code></pre></div>
<pre><code>## # A tibble: 4 Ã— 3
##   medication fall      n
##   &lt;chr&gt;      &lt;chr&gt; &lt;int&gt;
## 1 No         No        8
## 2 No         Yes       2
## 3 Yes        No        6
## 4 Yes        Yes       4</code></pre>
<p>As the examples above illustrate, itâ€™s pretty easy and straightforward to go from a data frame of observations to either a contingency table or a frequency table. What is currently less straightforward (or at least less well documented) is to:</p>
<ul>
<li><p>Manually create a contingency table.</p></li>
<li><p>Convert a contingency table into a frequency table.</p></li>
<li><p>Convert a contingency table into a data frame of observations.</p></li>
<li><p>Convert a frequency table into a contingency table.</p></li>
<li><p>Convert a frequency table into a data frame of observations.</p></li>
</ul>
<p>We go through each of these operations below.</p>
</div>
<div id="scenario" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Scenario<a href="contingency-tables.html#scenario" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This scenario is borrowed from the <a href="https://sphweb.bumc.bu.edu/otlt/mph-modules/ep/ep713_association/ep713_association_print.html">Boston University</a> website.</p>
<p><strong>Data Summary</strong></p>
<p>Consider the following example regarding the management of Hodgkin lymphoma, a cancer of the lymphatic system.</p>
<p>Years ago when a patient was diagnosed with Hodgkin Disease, they would frequently undergo a surgical procedure called a â€œstaging laparotomy.â€ The purpose of the staging laparotomy was to determine the extent to which the cancer had spread, because this was important information for determining the patientâ€™s prognosis and optimizing treatment. At times, the surgeons performing this procedure would also remove the patientâ€™s appendix, not because it was inflamed; it was done â€œincidentallyâ€ in order to ensure that the patient never had to worry about getting appendicitis. However, performing an appendectomy requires transecting it, and this has the potential to contaminate the abdomen and the wound edges with bacteria normally contained inside the appendix. Some surgeons felt that doing this â€œincidental appendectomyâ€ did the patient a favor by ensuring that they would never get appendicitis, but others felt that it meant unnecessarily increasing the patientâ€™s risk of getting a post-operative wound infection by spreading around the bacteria that was once inside the appendix.</p>
<p>To address this, the surgeons at a large hospital performed a retrospective cohort study. They began by going through the hospitalâ€™s medical records to identify all subjects who had had a â€œstaging laparotomy performed for Hodgkin.â€ They then reviewed the medical record and looked at the operative report to determine whether the patient had an incidental appendectomy or not. They then reviewed the progress notes, the laboratory reports, the nurses notes, and the discharge summary to determine whether the patient had developed a wound infection during the week after surgery.</p>
<p>The investigators reviewed the records of 210 patients who had undergone the staging procedure and found that 131 had also had an incidental appendectomy, while the other 79 had not. The data from that study are summarized in the table below. The numbers in the second and third columns indicate the number of subjects who did or did not develop a post-operative wound infection among those who had the incidental appendectomy (in the â€œYesâ€ row) and those who did not have the incidental appendectomy (in the â€œNoâ€ row). For example, the upper left cell indicates that seven of the subjects who had an incidental appendectomy (the exposure of interest) subsequently developed a wound infection. The upper right cell indicates that the other 124 subjects who had an incidental appendectomy did NOT develop a wound infection.</p>
<table>
<colgroup>
<col width="40%" />
<col width="22%" />
<col width="27%" />
<col width="9%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Had incidental appendectomy?</td>
<td>Wound infection</td>
<td>No wound infection</td>
<td>Total</td>
</tr>
<tr class="even">
<td>Yes</td>
<td>7</td>
<td>124</td>
<td>131</td>
</tr>
<tr class="odd">
<td>No</td>
<td>1</td>
<td>78</td>
<td>79</td>
</tr>
<tr class="even">
<td>Total</td>
<td>8</td>
<td>202</td>
<td>210</td>
</tr>
</tbody>
</table>
</div>
<div id="manually-creating-each-data-structure" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Manually creating each data structure<a href="contingency-tables.html#manually-creating-each-data-structure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this section, we manually create the incidental appendectomy data in all three structural representations (i.e., <code>Data frame of observations</code>, <code>Contingency table</code>, <code>Frequency table</code>).</p>
<div id="data-frame-of-observations" class="section level3 hasAnchor" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> Data frame of observations<a href="contingency-tables.html#data-frame-of-observations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we can manually create tibble with one row for each person represented in the data above. Ordinarily, this is how the data would come to us. Then, we can use various different techniques â€“ some of which are demonstrated below â€“ to summarize the data as a 2x2 contingency table. In this case, we are working backwards from the data summary to the raw data just to show one way that it can be done. This isnâ€™t necessarily a good way to do it, however. Later, we will demonstrate more efficient and less error-prone ways to create raw data from summary tables.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="contingency-tables.html#cb241-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb241-2"><a href="contingency-tables.html#cb241-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">appendectomy =</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;Yes&quot;</span>, <span class="dv">7</span>), <span class="fu">rep</span>(<span class="st">&quot;Yes&quot;</span>, <span class="dv">124</span>), <span class="st">&quot;No&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;No&quot;</span>, <span class="dv">78</span>))),</span>
<span id="cb241-3"><a href="contingency-tables.html#cb241-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">infection    =</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;Yes&quot;</span>, <span class="dv">7</span>), <span class="fu">rep</span>(<span class="st">&quot;No&quot;</span>, <span class="dv">124</span>), <span class="st">&quot;Yes&quot;</span>, <span class="fu">rep</span>(<span class="st">&quot;No&quot;</span>, <span class="dv">78</span>)))</span>
<span id="cb241-4"><a href="contingency-tables.html#cb241-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb241-5"><a href="contingency-tables.html#cb241-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 210 Ã— 2
##    appendectomy infection
##    &lt;fct&gt;        &lt;fct&gt;    
##  1 Yes          Yes      
##  2 Yes          Yes      
##  3 Yes          Yes      
##  4 Yes          Yes      
##  5 Yes          Yes      
##  6 Yes          Yes      
##  7 Yes          Yes      
##  8 Yes          No       
##  9 Yes          No       
## 10 Yes          No       
## # â€¦ with 200 more rows</code></pre>
</div>
<div id="man-freq-tbl" class="section level3 hasAnchor" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> Frequency table<a href="contingency-tables.html#man-freq-tbl" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we will manually create a frequency table. In our experience, it isnâ€™t common for analysts or investigators to manually create a frequency table representation of data. However, creating frequency tables this way is pretty straightforward and easy to do.</p>
<p>We can do using the <code>tibble()</code> (or <code>data.frame()</code>) function.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="contingency-tables.html#cb243-1" aria-hidden="true" tabindex="-1"></a>freq_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb243-2"><a href="contingency-tables.html#cb243-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb243-3"><a href="contingency-tables.html#cb243-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">infection    =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb243-4"><a href="contingency-tables.html#cb243-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">count        =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">124</span>, <span class="dv">1</span>, <span class="dv">78</span>)</span>
<span id="cb243-5"><a href="contingency-tables.html#cb243-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb243-6"><a href="contingency-tables.html#cb243-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 4 Ã— 3
##   appendectomy infection count
##   &lt;chr&gt;        &lt;chr&gt;     &lt;dbl&gt;
## 1 Yes          Yes           7
## 2 Yes          No          124
## 3 No           Yes           1
## 4 No           No           78</code></pre>
<p>Or by using the <code>tribble()</code> function.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="contingency-tables.html#cb245-1" aria-hidden="true" tabindex="-1"></a>freq_tbl <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb245-2"><a href="contingency-tables.html#cb245-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>appendectomy, <span class="sc">~</span>infection, <span class="sc">~</span>count,</span>
<span id="cb245-3"><a href="contingency-tables.html#cb245-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="dv">7</span>,</span>
<span id="cb245-4"><a href="contingency-tables.html#cb245-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>,  <span class="dv">124</span>,</span>
<span id="cb245-5"><a href="contingency-tables.html#cb245-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;No&quot;</span>,  <span class="st">&quot;Yes&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb245-6"><a href="contingency-tables.html#cb245-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;No&quot;</span>,  <span class="st">&quot;No&quot;</span>,  <span class="dv">78</span></span>
<span id="cb245-7"><a href="contingency-tables.html#cb245-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb245-8"><a href="contingency-tables.html#cb245-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 4 Ã— 3
##   appendectomy infection count
##   &lt;chr&gt;        &lt;chr&gt;     &lt;dbl&gt;
## 1 Yes          Yes           7
## 2 Yes          No          124
## 3 No           Yes           1
## 4 No           No           78</code></pre>
<p>Either way, the end result is exactly the same. Which method of data entry you use is largely a matter of preference.</p>
<p>As you can see below, we can also add marginal totals to our frequency table, which can be useful for other analyses we may want to do.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="contingency-tables.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add margins</span></span>
<span id="cb247-2"><a href="contingency-tables.html#cb247-2" aria-hidden="true" tabindex="-1"></a>freq_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb247-3"><a href="contingency-tables.html#cb247-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(appendectomy) <span class="sc">%&gt;%</span> </span>
<span id="cb247-4"><a href="contingency-tables.html#cb247-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">appendectomy_totals =</span> <span class="fu">sum</span>(count)) <span class="sc">%&gt;%</span> </span>
<span id="cb247-5"><a href="contingency-tables.html#cb247-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(infection) <span class="sc">%&gt;%</span> </span>
<span id="cb247-6"><a href="contingency-tables.html#cb247-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">infection_totals =</span> <span class="fu">sum</span>(count)) <span class="sc">%&gt;%</span> </span>
<span id="cb247-7"><a href="contingency-tables.html#cb247-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb247-8"><a href="contingency-tables.html#cb247-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">margin_total =</span> <span class="fu">sum</span>(count))</span></code></pre></div>
<pre><code>## # A tibble: 4 Ã— 6
##   appendectomy infection count appendectomy_totals infection_totals margin_total
##   &lt;chr&gt;        &lt;chr&gt;     &lt;dbl&gt;               &lt;dbl&gt;            &lt;dbl&gt;        &lt;dbl&gt;
## 1 Yes          Yes           7                 131                8          210
## 2 Yes          No          124                 131              202          210
## 3 No           Yes           1                  79                8          210
## 4 No           No           78                  79              202          210</code></pre>
</div>
<div id="contingency-tables-1" class="section level3 hasAnchor" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> Contingency tables<a href="contingency-tables.html#contingency-tables-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The third type of data structure we will manually create is the contingency table â€“ the focus of this chapter. There are several ways to manually create contingency tables in R. We will demonstrate many of them below.</p>
<div id="manual-matrix-ct" class="section level4 hasAnchor" number="6.6.3.1">
<h4><span class="header-section-number">6.6.3.1</span> Matrix object<a href="contingency-tables.html#manual-matrix-ct" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>First, we can manually create a contingency table as a matrix object.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="contingency-tables.html#cb249-1" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb249-2"><a href="contingency-tables.html#cb249-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">7</span>, <span class="at">b =</span> <span class="dv">124</span>, <span class="at">c =</span> <span class="dv">1</span>, <span class="at">d =</span> <span class="dv">78</span>),</span>
<span id="cb249-3"><a href="contingency-tables.html#cb249-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb249-4"><a href="contingency-tables.html#cb249-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb249-5"><a href="contingency-tables.html#cb249-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb249-6"><a href="contingency-tables.html#cb249-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    7  124
## [2,]    1   78</code></pre>
<p>Then, we can add row and column names to make the matrix more readable.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="contingency-tables.html#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add names to make the matrix more readable</span></span>
<span id="cb251-2"><a href="contingency-tables.html#cb251-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Appendectomy&quot;</span>, <span class="st">&quot;No Appendectomy&quot;</span>)</span>
<span id="cb251-3"><a href="contingency-tables.html#cb251-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Infection&quot;</span>, <span class="st">&quot;No Infection&quot;</span>)</span>
<span id="cb251-4"><a href="contingency-tables.html#cb251-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-5"><a href="contingency-tables.html#cb251-5" aria-hidden="true" tabindex="-1"></a>matrix_ct</span></code></pre></div>
<pre><code>##                 Infection No Infection
## Appendectomy            7          124
## No Appendectomy         1           78</code></pre>
<p>Or alternatively like this.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="contingency-tables.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb253-2"><a href="contingency-tables.html#cb253-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;Appendectomy&quot;</span>, <span class="st">&quot;No Appendectomy&quot;</span>),</span>
<span id="cb253-3"><a href="contingency-tables.html#cb253-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;Infection&quot;</span>, <span class="st">&quot;No Infection&quot;</span>)</span>
<span id="cb253-4"><a href="contingency-tables.html#cb253-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb253-5"><a href="contingency-tables.html#cb253-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-6"><a href="contingency-tables.html#cb253-6" aria-hidden="true" tabindex="-1"></a>matrix_ct</span></code></pre></div>
<pre><code>##                 Infection No Infection
## Appendectomy            7          124
## No Appendectomy         1           78</code></pre>
<p>Or alternatively like this.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="contingency-tables.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb255-2"><a href="contingency-tables.html#cb255-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb255-3"><a href="contingency-tables.html#cb255-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb255-4"><a href="contingency-tables.html#cb255-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb255-5"><a href="contingency-tables.html#cb255-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb255-6"><a href="contingency-tables.html#cb255-6" aria-hidden="true" tabindex="-1"></a>matrix_ct</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No
##          Yes   7 124
##          No    1  78</code></pre>
<p>Notice that the third method of adding row and column names produces slightly different results.</p>
<p>And we can add marginal totals to the matrix.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="contingency-tables.html#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(matrix_ct)</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
<p>So, putting it all together, there are at least two processes to create a matrix with marginal totals.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="contingency-tables.html#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 1. Calculate the marginal totals before using dimnames()</span></span>
<span id="cb259-2"><a href="contingency-tables.html#cb259-2" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb259-3"><a href="contingency-tables.html#cb259-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">7</span>, <span class="at">b =</span> <span class="dv">124</span>, <span class="at">c =</span> <span class="dv">1</span>, <span class="at">d =</span> <span class="dv">78</span>),</span>
<span id="cb259-4"><a href="contingency-tables.html#cb259-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb259-5"><a href="contingency-tables.html#cb259-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb259-6"><a href="contingency-tables.html#cb259-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb259-7"><a href="contingency-tables.html#cb259-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-8"><a href="contingency-tables.html#cb259-8" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(matrix_ct)</span>
<span id="cb259-9"><a href="contingency-tables.html#cb259-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-10"><a href="contingency-tables.html#cb259-10" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct_margins) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb259-11"><a href="contingency-tables.html#cb259-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;colsum&quot;</span>),</span>
<span id="cb259-12"><a href="contingency-tables.html#cb259-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;rowsum&quot;</span>)</span>
<span id="cb259-13"><a href="contingency-tables.html#cb259-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb259-14"><a href="contingency-tables.html#cb259-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-15"><a href="contingency-tables.html#cb259-15" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No rowsum
##       Yes      7 124    131
##       No       1  78     79
##       colsum   8 202    210</code></pre>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="contingency-tables.html#cb261-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 2. Use rownames() and colnames() instead of dimnames()</span></span>
<span id="cb261-2"><a href="contingency-tables.html#cb261-2" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb261-3"><a href="contingency-tables.html#cb261-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">7</span>, <span class="at">b =</span> <span class="dv">124</span>, <span class="at">c =</span> <span class="dv">1</span>, <span class="at">d =</span> <span class="dv">78</span>),</span>
<span id="cb261-4"><a href="contingency-tables.html#cb261-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb261-5"><a href="contingency-tables.html#cb261-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb261-6"><a href="contingency-tables.html#cb261-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb261-7"><a href="contingency-tables.html#cb261-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-8"><a href="contingency-tables.html#cb261-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb261-9"><a href="contingency-tables.html#cb261-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb261-10"><a href="contingency-tables.html#cb261-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb261-11"><a href="contingency-tables.html#cb261-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb261-12"><a href="contingency-tables.html#cb261-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb261-13"><a href="contingency-tables.html#cb261-13" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(matrix_ct)</span>
<span id="cb261-14"><a href="contingency-tables.html#cb261-14" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
<p>At this point, I think I prefer method 2. Only because it leaves <code>matrix_ct</code> more readable.</p>
</div>
<div id="base-r-data-frame-with-rownames" class="section level4 hasAnchor" number="6.6.3.2">
<h4><span class="header-section-number">6.6.3.2</span> Base R data frame with rownames<a href="contingency-tables.html#base-r-data-frame-with-rownames" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Another option for manually creating a contingency table is to start with a base R data frame with row names (tibbles drop row names by default, which is usually a good thing).</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="contingency-tables.html#cb263-1" aria-hidden="true" tabindex="-1"></a>df_ct <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb263-2"><a href="contingency-tables.html#cb263-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">1</span>),</span>
<span id="cb263-3"><a href="contingency-tables.html#cb263-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">No Infection</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">124</span>, <span class="dv">78</span>)</span>
<span id="cb263-4"><a href="contingency-tables.html#cb263-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb263-5"><a href="contingency-tables.html#cb263-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-6"><a href="contingency-tables.html#cb263-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add row names</span></span>
<span id="cb263-7"><a href="contingency-tables.html#cb263-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(df_ct) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Appendectomy&quot;</span>, <span class="st">&quot;No Appendectomy&quot;</span>)</span>
<span id="cb263-8"><a href="contingency-tables.html#cb263-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-9"><a href="contingency-tables.html#cb263-9" aria-hidden="true" tabindex="-1"></a>df_ct</span></code></pre></div>
<pre><code>##                 Infection No.Infection
## Appendectomy            7          124
## No Appendectomy         1           78</code></pre>
<p>And we can add marginal totals to the data frame. However, we cannot do so with the <code>addmargins()</code> function.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="contingency-tables.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(df_ct)</span></code></pre></div>
<pre><code>## Error in FUN(newX[, i], ...): invalid &#39;type&#39; (list) of argument</code></pre>
<p>Therefore, it takes a little bit more code to add margins a contingency table created as a base R data frame.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="contingency-tables.html#cb267-1" aria-hidden="true" tabindex="-1"></a>df_ct_margins <span class="ot">&lt;-</span> df_ct</span>
<span id="cb267-2"><a href="contingency-tables.html#cb267-2" aria-hidden="true" tabindex="-1"></a>df_ct_margins <span class="ot">&lt;-</span> <span class="fu">cbind</span>(df_ct_margins, <span class="at">rowsum =</span> <span class="fu">rowSums</span>(df_ct_margins))</span>
<span id="cb267-3"><a href="contingency-tables.html#cb267-3" aria-hidden="true" tabindex="-1"></a>df_ct_margins <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_ct_margins, <span class="at">colsum =</span> <span class="fu">colSums</span>(df_ct_margins))</span>
<span id="cb267-4"><a href="contingency-tables.html#cb267-4" aria-hidden="true" tabindex="-1"></a>df_ct_margins</span></code></pre></div>
<pre><code>##                 Infection No.Infection rowsum
## Appendectomy            7          124    131
## No Appendectomy         1           78     79
## colsum                  8          202    210</code></pre>
<p>At this point, I prefer manually creating a contingency table by starting with a matrix than by starting with a base R data frame. This is primarily due to the fact that itâ€™s easier to add margins to the matrix than it is to the data frame.</p>
</div>
</div>
</div>
<div id="table-objects" class="section level2 hasAnchor" number="6.7">
<h2><span class="header-section-number">6.7</span> Table objects<a href="contingency-tables.html#table-objects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>table()</code> function â€œuses the cross-classifying factors to build a contingency table of the counts at each combination of factor levels.â€ (<a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table" class="uri">https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table</a>), and this is really Râ€™s built-in method for working with contingency tables. However, I havenâ€™t found a way to create a table object from scratch (i.e., without making a matrix or data frame first).</p>
<p>In this section, we briefly demonstrate how to create a table object from a matrix and from a data frame.</p>
<div id="table-object-from-matrix" class="section level3 hasAnchor" number="6.7.1">
<h3><span class="header-section-number">6.7.1</span> Table object from matrix<a href="contingency-tables.html#table-object-from-matrix" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, we will create a table from a matrix object. The code used here to first create the matrix is identical to <a href="contingency-tables.html#manual-matrix-ct">the code above</a>.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="contingency-tables.html#cb269-1" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb269-2"><a href="contingency-tables.html#cb269-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">7</span>, <span class="at">b =</span> <span class="dv">124</span>, <span class="at">c =</span> <span class="dv">1</span>, <span class="at">d =</span> <span class="dv">78</span>),</span>
<span id="cb269-3"><a href="contingency-tables.html#cb269-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb269-4"><a href="contingency-tables.html#cb269-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb269-5"><a href="contingency-tables.html#cb269-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb269-6"><a href="contingency-tables.html#cb269-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-7"><a href="contingency-tables.html#cb269-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb269-8"><a href="contingency-tables.html#cb269-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb269-9"><a href="contingency-tables.html#cb269-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb269-10"><a href="contingency-tables.html#cb269-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb269-11"><a href="contingency-tables.html#cb269-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-12"><a href="contingency-tables.html#cb269-12" aria-hidden="true" tabindex="-1"></a>matrix_ct</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No
##          Yes   7 124
##          No    1  78</code></pre>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="contingency-tables.html#cb271-1" aria-hidden="true" tabindex="-1"></a>table_from_matrix <span class="ot">&lt;-</span> <span class="fu">as.table</span>(matrix_ct)</span>
<span id="cb271-2"><a href="contingency-tables.html#cb271-2" aria-hidden="true" tabindex="-1"></a>table_from_matrix</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No
##          Yes   7 124
##          No    1  78</code></pre>
<p>The results look the same, but they are different under the hood.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="contingency-tables.html#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb273-2"><a href="contingency-tables.html#cb273-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">matrix_ct =</span> <span class="fu">class</span>(matrix_ct),</span>
<span id="cb273-3"><a href="contingency-tables.html#cb273-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">table_from_matrix =</span> <span class="fu">class</span>(table_from_matrix)</span>
<span id="cb273-4"><a href="contingency-tables.html#cb273-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## $matrix_ct
## [1] &quot;matrix&quot; &quot;array&quot; 
## 
## $table_from_matrix
## [1] &quot;table&quot;</code></pre>
<p>And again, we can add margins to the table object with the <code>addmargins()</code> function.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="contingency-tables.html#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(table_from_matrix)</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
<p><a href="https://cran.r-project.org/web/packages/DescTools/vignettes/TablesInR.pdf">Tables in R â€“ A quick practical overview</a> shows an alternative way to create a table object using a matrix as an intermediate step â€“ the <code>rbind()</code> function.</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="contingency-tables.html#cb277-1" aria-hidden="true" tabindex="-1"></a>table_from_matrix <span class="ot">&lt;-</span> <span class="fu">as.table</span>(</span>
<span id="cb277-2"><a href="contingency-tables.html#cb277-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb277-3"><a href="contingency-tables.html#cb277-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">124</span>), </span>
<span id="cb277-4"><a href="contingency-tables.html#cb277-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">78</span>)</span>
<span id="cb277-5"><a href="contingency-tables.html#cb277-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb277-6"><a href="contingency-tables.html#cb277-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb277-7"><a href="contingency-tables.html#cb277-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-8"><a href="contingency-tables.html#cb277-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(table_from_matrix) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb277-9"><a href="contingency-tables.html#cb277-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb277-10"><a href="contingency-tables.html#cb277-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb277-11"><a href="contingency-tables.html#cb277-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb277-12"><a href="contingency-tables.html#cb277-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-13"><a href="contingency-tables.html#cb277-13" aria-hidden="true" tabindex="-1"></a>table_from_matrix</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No
##          Yes   7 124
##          No    1  78</code></pre>
<p>And again, we can add margins to the table object with the <code>addmargins()</code> function.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="contingency-tables.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(table_from_matrix)</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
</div>
<div id="table-object-from-df" class="section level3 hasAnchor" number="6.7.2">
<h3><span class="header-section-number">6.7.2</span> Table object from df<a href="contingency-tables.html#table-object-from-df" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we will create a table from a data frame of observations. This is where the <code>table()</code> function comes in really handy!</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="contingency-tables.html#cb281-1" aria-hidden="true" tabindex="-1"></a>table_from_df <span class="ot">&lt;-</span> <span class="fu">table</span>(df)</span>
<span id="cb281-2"><a href="contingency-tables.html#cb281-2" aria-hidden="true" tabindex="-1"></a>table_from_df</span></code></pre></div>
<pre><code>##             infection
## appendectomy  No Yes
##          No   78   1
##          Yes 124   7</code></pre>
<p class="warning">
âš ï¸<strong>Warning:</strong> Notice that the â€œNoâ€ category comes before the â€œYesâ€ category by default when passing a data frame of observations to the <code>table()</code> function. This typically not the order we would put them in for analysis. To prevent this from happening, change the ordering of the factor levels in the data frame of observations (demonstrated below).
</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="contingency-tables.html#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make &quot;Yes&quot; the first factor level. Then, create the table.</span></span>
<span id="cb283-2"><a href="contingency-tables.html#cb283-2" aria-hidden="true" tabindex="-1"></a>df_yn <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb283-3"><a href="contingency-tables.html#cb283-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb283-4"><a href="contingency-tables.html#cb283-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">appendectomy =</span> <span class="fu">factor</span>(appendectomy, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)),</span>
<span id="cb283-5"><a href="contingency-tables.html#cb283-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">infection =</span> <span class="fu">factor</span>(infection, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>))</span>
<span id="cb283-6"><a href="contingency-tables.html#cb283-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="contingency-tables.html#cb284-1" aria-hidden="true" tabindex="-1"></a>table_from_df <span class="ot">&lt;-</span> <span class="fu">table</span>(df_yn)</span>
<span id="cb284-2"><a href="contingency-tables.html#cb284-2" aria-hidden="true" tabindex="-1"></a>table_from_df</span></code></pre></div>
<pre><code>##             infection
## appendectomy Yes  No
##          Yes   7 124
##          No    1  78</code></pre>
<p>And again, we can add margins to the table object with the <code>addmargins()</code> function.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="contingency-tables.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add margins</span></span>
<span id="cb286-2"><a href="contingency-tables.html#cb286-2" aria-hidden="true" tabindex="-1"></a>table_from_df_margins <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(table_from_df)</span>
<span id="cb286-3"><a href="contingency-tables.html#cb286-3" aria-hidden="true" tabindex="-1"></a>table_from_df_margins</span></code></pre></div>
<pre><code>##             infection
## appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
</div>
<div id="why" class="section level3 hasAnchor" number="6.7.3">
<h3><span class="header-section-number">6.7.3</span> Why use table objects?<a href="contingency-tables.html#why" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>I used to think the table class allowed us to more easily manipulate and perform calculations on contingency tables than the matrix class does, but now Iâ€™m not sure it does. For example, <code>addmargins()</code> and <code>prop.table()</code> both work on the matrix object. Calculations (like incidence proportions below) work on both too.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="contingency-tables.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(matrix_ct)</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy         Yes        No
##          Yes 0.033333333 0.5904762
##          No  0.004761905 0.3714286</code></pre>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="contingency-tables.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(matrix_ct)</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="contingency-tables.html#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add incidence proportion to a matrix contingency table</span></span>
<span id="cb292-2"><a href="contingency-tables.html#cb292-2" aria-hidden="true" tabindex="-1"></a>ip <span class="ot">&lt;-</span> matrix_ct_margins[, <span class="st">&quot;Yes&quot;</span>] <span class="sc">/</span> matrix_ct_margins[, <span class="st">&quot;Sum&quot;</span>]</span>
<span id="cb292-3"><a href="contingency-tables.html#cb292-3" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins_ip <span class="ot">&lt;-</span> <span class="fu">cbind</span>(matrix_ct_margins, ip)</span>
<span id="cb292-4"><a href="contingency-tables.html#cb292-4" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins_ip</span></code></pre></div>
<pre><code>##     Yes  No Sum         ip
## Yes   7 124 131 0.05343511
## No    1  78  79 0.01265823
## Sum   8 202 210 0.03809524</code></pre>
<p>However, using the <code>table()</code> function is still the easiest way to convert a data frame of observations to a contingency table.</p>
<p>Further, when we <a href="contingency-tables.html#convert-ct-to-df">convert a contingency table into a data frame of observations</a> below, converting to a table object is a necessary intermediate step.</p>
</div>
</div>
<div id="convert-a-contingency-table-into-a-frequency-table" class="section level2 hasAnchor" number="6.8">
<h2><span class="header-section-number">6.8</span> Convert a contingency table into a frequency table<a href="contingency-tables.html#convert-a-contingency-table-into-a-frequency-table" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="matrix-object" class="section level3 hasAnchor" number="6.8.1">
<h3><span class="header-section-number">6.8.1</span> Matrix object<a href="contingency-tables.html#matrix-object" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When starting with a matrix contingency table, the easiest way to convert it to a frequency table is to first convert it to a [table object][Table-objects] using <code>as.table()</code>. Then, we pass that result to <code>as.data.frame()</code> to create a frequency table. This solution comes from <a href="https://stackoverflow.com/questions/48330888/r-convert-contingency-table-to-long-data-frame">Stack Overflow</a>.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="contingency-tables.html#cb294-1" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="sc">%&gt;%</span> </span>
<span id="cb294-2"><a href="contingency-tables.html#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb294-3"><a href="contingency-tables.html#cb294-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span></code></pre></div>
<pre><code>##   Appendectomy Infection Freq
## 1          Yes       Yes    7
## 2           No       Yes    1
## 3          Yes        No  124
## 4           No        No   78</code></pre>
</div>
<div id="table-object-from-df-1" class="section level3 hasAnchor" number="6.8.2">
<h3><span class="header-section-number">6.8.2</span> Table object from df<a href="contingency-tables.html#table-object-from-df-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When starting with a [table object made from a df][Table-object-from-df], we only need to pass it to the <code>as.data.frame()</code> function. Notice that the result is slightly different than above â€“ the order of</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="contingency-tables.html#cb296-1" aria-hidden="true" tabindex="-1"></a>df_yn <span class="sc">%&gt;%</span> </span>
<span id="cb296-2"><a href="contingency-tables.html#cb296-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb296-3"><a href="contingency-tables.html#cb296-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span></code></pre></div>
<pre><code>##   appendectomy infection Freq
## 1          Yes       Yes    7
## 2           No       Yes    1
## 3          Yes        No  124
## 4           No        No   78</code></pre>
</div>
<div id="data-frame-contingency-table" class="section level3 hasAnchor" number="6.8.3">
<h3><span class="header-section-number">6.8.3</span> Data frame contingency table<a href="contingency-tables.html#data-frame-contingency-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When starting from a [base R data frame contingency table][base-r-data-frame-with-rownames] (again, we donâ€™t recommend doing this), there are a couple of options. <a href="https://stackoverflow.com/questions/48330888/r-convert-contingency-table-to-long-data-frame">These two come from Stack Overflow</a>.</p>
<p>The first method is a bit convoluted, but uses only base R functions.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="contingency-tables.html#cb298-1" aria-hidden="true" tabindex="-1"></a>df_ct <span class="sc">%&gt;%</span> </span>
<span id="cb298-2"><a href="contingency-tables.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.matrix</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb298-3"><a href="contingency-tables.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb298-4"><a href="contingency-tables.html#cb298-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span></code></pre></div>
<pre><code>##              Var1         Var2 Freq
## 1    Appendectomy    Infection    7
## 2 No Appendectomy    Infection    1
## 3    Appendectomy No.Infection  124
## 4 No Appendectomy No.Infection   78</code></pre>
<p>The second method is a <code>Tidyverse</code> solution.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="contingency-tables.html#cb300-1" aria-hidden="true" tabindex="-1"></a>df_ct <span class="sc">%&gt;%</span> </span>
<span id="cb300-2"><a href="contingency-tables.html#cb300-2" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb300-3"><a href="contingency-tables.html#cb300-3" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="fu">c</span>(Infection, No.Infection))</span></code></pre></div>
<pre><code>## # A tibble: 4 Ã— 3
##   rowname         name         value
##   &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt;
## 1 Appendectomy    Infection        7
## 2 Appendectomy    No.Infection   124
## 3 No Appendectomy Infection        1
## 4 No Appendectomy No.Infection    78</code></pre>
</div>
</div>
<div id="convert-ct-to-df" class="section level2 hasAnchor" number="6.9">
<h2><span class="header-section-number">6.9</span> Convert a contingency table into a data frame of observations<a href="contingency-tables.html#convert-ct-to-df" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This is a really common conversion to want to make. We often come across data that is already in a 2x2 table and decide that we want to convert it into a data frame of observations to experiment with it or for some statistical procedures (e.g., regression).</p>
<p>All of the methods Iâ€™ve found so far require creating a frequency table as an intermediate step.</p>
<div id="matrix-object-1" class="section level3 hasAnchor" number="6.9.1">
<h3><span class="header-section-number">6.9.1</span> Matrix object<a href="contingency-tables.html#matrix-object-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="contingency-tables.html#cb302-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert from data frame of counts to data frame of cases.</span></span>
<span id="cb302-2"><a href="contingency-tables.html#cb302-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `countcol` is the name of the column containing the counts</span></span>
<span id="cb302-3"><a href="contingency-tables.html#cb302-3" aria-hidden="true" tabindex="-1"></a><span class="co"># From: https://cran.r-project.org/web/packages/DescTools/vignettes/TablesInR.pdf</span></span>
<span id="cb302-4"><a href="contingency-tables.html#cb302-4" aria-hidden="true" tabindex="-1"></a>countsToCases <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">countcol =</span> <span class="st">&quot;Freq&quot;</span>) {</span>
<span id="cb302-5"><a href="contingency-tables.html#cb302-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the row indices to pull from x</span></span>
<span id="cb302-6"><a href="contingency-tables.html#cb302-6" aria-hidden="true" tabindex="-1"></a>    idx <span class="ot">&lt;-</span> <span class="fu">rep.int</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(x)), x[[countcol]])</span>
<span id="cb302-7"><a href="contingency-tables.html#cb302-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-8"><a href="contingency-tables.html#cb302-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Drop count column</span></span>
<span id="cb302-9"><a href="contingency-tables.html#cb302-9" aria-hidden="true" tabindex="-1"></a>    x[[countcol]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb302-10"><a href="contingency-tables.html#cb302-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb302-11"><a href="contingency-tables.html#cb302-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the rows from x</span></span>
<span id="cb302-12"><a href="contingency-tables.html#cb302-12" aria-hidden="true" tabindex="-1"></a>    x[idx, ]</span>
<span id="cb302-13"><a href="contingency-tables.html#cb302-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="contingency-tables.html#cb303-1" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="sc">%&gt;%</span> </span>
<span id="cb303-2"><a href="contingency-tables.html#cb303-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb303-3"><a href="contingency-tables.html#cb303-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb303-4"><a href="contingency-tables.html#cb303-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">countsToCases</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb303-5"><a href="contingency-tables.html#cb303-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 210 Ã— 2
##    Appendectomy Infection
##    &lt;fct&gt;        &lt;fct&gt;    
##  1 Yes          Yes      
##  2 Yes          Yes      
##  3 Yes          Yes      
##  4 Yes          Yes      
##  5 Yes          Yes      
##  6 Yes          Yes      
##  7 Yes          Yes      
##  8 No           Yes      
##  9 Yes          No       
## 10 Yes          No       
## # â€¦ with 200 more rows</code></pre>
<p>(Delete)
Works, but I donâ€™t like it. Iâ€™m trying to figure out why. Maybe because it uses a table object and a frequency table object as an intermediate step? Why do I care about that, though? Also, perhaps I donâ€™t like the final result? Do I want Yes/No values or variable name values in the final result (compare this result to the result below for â€œConvert a frequency table into a data frame of observationsâ€).</p>
<p>Letâ€™s pull this function apart and really understand how it works.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="contingency-tables.html#cb305-1" aria-hidden="true" tabindex="-1"></a>test_mat_ct_to_df <span class="ot">&lt;-</span> matrix_ct <span class="sc">%&gt;%</span> </span>
<span id="cb305-2"><a href="contingency-tables.html#cb305-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb305-3"><a href="contingency-tables.html#cb305-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()</span>
<span id="cb305-4"><a href="contingency-tables.html#cb305-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-5"><a href="contingency-tables.html#cb305-5" aria-hidden="true" tabindex="-1"></a>test_mat_ct_to_df </span></code></pre></div>
<pre><code>##   Appendectomy Infection Freq
## 1          Yes       Yes    7
## 2           No       Yes    1
## 3          Yes        No  124
## 4           No        No   78</code></pre>
<p>At this point, we have a frequency table of class data frame.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="contingency-tables.html#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector if the number of times each combination (each row) from the </span></span>
<span id="cb307-2"><a href="contingency-tables.html#cb307-2" aria-hidden="true" tabindex="-1"></a><span class="co"># frequency table is to appear in the new data frame of observations</span></span>
<span id="cb307-3"><a href="contingency-tables.html#cb307-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb307-4"><a href="contingency-tables.html#cb307-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of rows in the df</span></span>
<span id="cb307-5"><a href="contingency-tables.html#cb307-5" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">&lt;-</span> <span class="fu">nrow</span>(test_mat_ct_to_df)</span>
<span id="cb307-6"><a href="contingency-tables.html#cb307-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a sequence of integers from 1 to rows</span></span>
<span id="cb307-7"><a href="contingency-tables.html#cb307-7" aria-hidden="true" tabindex="-1"></a>one_to_n_rows <span class="ot">&lt;-</span> <span class="fu">seq_len</span>(rows)</span>
<span id="cb307-8"><a href="contingency-tables.html#cb307-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull vector of frequencies</span></span>
<span id="cb307-9"><a href="contingency-tables.html#cb307-9" aria-hidden="true" tabindex="-1"></a>freqs <span class="ot">&lt;-</span> test_mat_ct_to_df[[<span class="st">&quot;Freq&quot;</span>]]</span>
<span id="cb307-10"><a href="contingency-tables.html#cb307-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Rep.int is just a faster, simplified version of rep</span></span>
<span id="cb307-11"><a href="contingency-tables.html#cb307-11" aria-hidden="true" tabindex="-1"></a>combo_reps <span class="ot">&lt;-</span> <span class="fu">rep.int</span>(one_to_n_rows, freqs)</span>
<span id="cb307-12"><a href="contingency-tables.html#cb307-12" aria-hidden="true" tabindex="-1"></a>combo_reps</span></code></pre></div>
<pre><code>##   [1] 1 1 1 1 1 1 1 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
##  [38] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
##  [75] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3
## [112] 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [149] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
## [186] 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4</code></pre>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="contingency-tables.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the count (Freq) column from the frequency table</span></span>
<span id="cb309-2"><a href="contingency-tables.html#cb309-2" aria-hidden="true" tabindex="-1"></a>test_mat_ct_to_df[[<span class="st">&quot;Freq&quot;</span>]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb309-3"><a href="contingency-tables.html#cb309-3" aria-hidden="true" tabindex="-1"></a>test_mat_ct_to_df</span></code></pre></div>
<pre><code>##   Appendectomy Infection
## 1          Yes       Yes
## 2           No       Yes
## 3          Yes        No
## 4           No        No</code></pre>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="contingency-tables.html#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Repeat each row of test_mat_ct_to_df according to combo_reps</span></span>
<span id="cb311-2"><a href="contingency-tables.html#cb311-2" aria-hidden="true" tabindex="-1"></a>df_obs_from_matrix_ct <span class="ot">&lt;-</span> test_mat_ct_to_df[combo_reps, ]</span>
<span id="cb311-3"><a href="contingency-tables.html#cb311-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb311-4"><a href="contingency-tables.html#cb311-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop weird numbered rownames</span></span>
<span id="cb311-5"><a href="contingency-tables.html#cb311-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(df_obs_from_matrix_ct) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb311-6"><a href="contingency-tables.html#cb311-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb311-7"><a href="contingency-tables.html#cb311-7" aria-hidden="true" tabindex="-1"></a>df_obs_from_matrix_ct</span></code></pre></div>
<pre><code>##     Appendectomy Infection
## 1            Yes       Yes
## 2            Yes       Yes
## 3            Yes       Yes
## 4            Yes       Yes
## 5            Yes       Yes
## 6            Yes       Yes
## 7            Yes       Yes
## 8             No       Yes
## 9            Yes        No
## 10           Yes        No
## 11           Yes        No
## 12           Yes        No
## 13           Yes        No
## 14           Yes        No
## 15           Yes        No
## 16           Yes        No
## 17           Yes        No
## 18           Yes        No
## 19           Yes        No
## 20           Yes        No
## 21           Yes        No
## 22           Yes        No
## 23           Yes        No
## 24           Yes        No
## 25           Yes        No
## 26           Yes        No
## 27           Yes        No
## 28           Yes        No
## 29           Yes        No
## 30           Yes        No
## 31           Yes        No
## 32           Yes        No
## 33           Yes        No
## 34           Yes        No
## 35           Yes        No
## 36           Yes        No
## 37           Yes        No
## 38           Yes        No
## 39           Yes        No
## 40           Yes        No
## 41           Yes        No
## 42           Yes        No
## 43           Yes        No
## 44           Yes        No
## 45           Yes        No
## 46           Yes        No
## 47           Yes        No
## 48           Yes        No
## 49           Yes        No
## 50           Yes        No
## 51           Yes        No
## 52           Yes        No
## 53           Yes        No
## 54           Yes        No
## 55           Yes        No
## 56           Yes        No
## 57           Yes        No
## 58           Yes        No
## 59           Yes        No
## 60           Yes        No
## 61           Yes        No
## 62           Yes        No
## 63           Yes        No
## 64           Yes        No
## 65           Yes        No
## 66           Yes        No
## 67           Yes        No
## 68           Yes        No
## 69           Yes        No
## 70           Yes        No
## 71           Yes        No
## 72           Yes        No
## 73           Yes        No
## 74           Yes        No
## 75           Yes        No
## 76           Yes        No
## 77           Yes        No
## 78           Yes        No
## 79           Yes        No
## 80           Yes        No
## 81           Yes        No
## 82           Yes        No
## 83           Yes        No
## 84           Yes        No
## 85           Yes        No
## 86           Yes        No
## 87           Yes        No
## 88           Yes        No
## 89           Yes        No
## 90           Yes        No
## 91           Yes        No
## 92           Yes        No
## 93           Yes        No
## 94           Yes        No
## 95           Yes        No
## 96           Yes        No
## 97           Yes        No
## 98           Yes        No
## 99           Yes        No
## 100          Yes        No
## 101          Yes        No
## 102          Yes        No
## 103          Yes        No
## 104          Yes        No
## 105          Yes        No
## 106          Yes        No
## 107          Yes        No
## 108          Yes        No
## 109          Yes        No
## 110          Yes        No
## 111          Yes        No
## 112          Yes        No
## 113          Yes        No
## 114          Yes        No
## 115          Yes        No
## 116          Yes        No
## 117          Yes        No
## 118          Yes        No
## 119          Yes        No
## 120          Yes        No
## 121          Yes        No
## 122          Yes        No
## 123          Yes        No
## 124          Yes        No
## 125          Yes        No
## 126          Yes        No
## 127          Yes        No
## 128          Yes        No
## 129          Yes        No
## 130          Yes        No
## 131          Yes        No
## 132          Yes        No
## 133           No        No
## 134           No        No
## 135           No        No
## 136           No        No
## 137           No        No
## 138           No        No
## 139           No        No
## 140           No        No
## 141           No        No
## 142           No        No
## 143           No        No
## 144           No        No
## 145           No        No
## 146           No        No
## 147           No        No
## 148           No        No
## 149           No        No
## 150           No        No
## 151           No        No
## 152           No        No
## 153           No        No
## 154           No        No
## 155           No        No
## 156           No        No
## 157           No        No
## 158           No        No
## 159           No        No
## 160           No        No
## 161           No        No
## 162           No        No
## 163           No        No
## 164           No        No
## 165           No        No
## 166           No        No
## 167           No        No
## 168           No        No
## 169           No        No
## 170           No        No
## 171           No        No
## 172           No        No
## 173           No        No
## 174           No        No
## 175           No        No
## 176           No        No
## 177           No        No
## 178           No        No
## 179           No        No
## 180           No        No
## 181           No        No
## 182           No        No
## 183           No        No
## 184           No        No
## 185           No        No
## 186           No        No
## 187           No        No
## 188           No        No
## 189           No        No
## 190           No        No
## 191           No        No
## 192           No        No
## 193           No        No
## 194           No        No
## 195           No        No
## 196           No        No
## 197           No        No
## 198           No        No
## 199           No        No
## 200           No        No
## 201           No        No
## 202           No        No
## 203           No        No
## 204           No        No
## 205           No        No
## 206           No        No
## 207           No        No
## 208           No        No
## 209           No        No
## 210           No        No</code></pre>
</div>
<div id="table-from-matrix-to-df-obs" class="section level3 hasAnchor" number="6.9.2">
<h3><span class="header-section-number">6.9.2</span> Table object<a href="contingency-tables.html#table-from-matrix-to-df-obs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Same as the matrix example above, there is just one less step because youâ€™ve already converted the matrix to a table object.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="contingency-tables.html#cb313-1" aria-hidden="true" tabindex="-1"></a>table_from_matrix <span class="sc">%&gt;%</span> </span>
<span id="cb313-2"><a href="contingency-tables.html#cb313-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb313-3"><a href="contingency-tables.html#cb313-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">countsToCases</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb313-4"><a href="contingency-tables.html#cb313-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 210 Ã— 2
##    Appendectomy Infection
##    &lt;fct&gt;        &lt;fct&gt;    
##  1 Yes          Yes      
##  2 Yes          Yes      
##  3 Yes          Yes      
##  4 Yes          Yes      
##  5 Yes          Yes      
##  6 Yes          Yes      
##  7 Yes          Yes      
##  8 No           Yes      
##  9 Yes          No       
## 10 Yes          No       
## # â€¦ with 200 more rows</code></pre>
<p>And for completeness, here is the table object we previously created from a data frame of observations.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="contingency-tables.html#cb315-1" aria-hidden="true" tabindex="-1"></a>table_from_df <span class="sc">%&gt;%</span> </span>
<span id="cb315-2"><a href="contingency-tables.html#cb315-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb315-3"><a href="contingency-tables.html#cb315-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">countsToCases</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb315-4"><a href="contingency-tables.html#cb315-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 210 Ã— 2
##    appendectomy infection
##    &lt;fct&gt;        &lt;fct&gt;    
##  1 Yes          Yes      
##  2 Yes          Yes      
##  3 Yes          Yes      
##  4 Yes          Yes      
##  5 Yes          Yes      
##  6 Yes          Yes      
##  7 Yes          Yes      
##  8 No           Yes      
##  9 Yes          No       
## 10 Yes          No       
## # â€¦ with 200 more rows</code></pre>
</div>
</div>
<div id="convert-a-frequency-table-into-a-contingency-table." class="section level2 hasAnchor" number="6.10">
<h2><span class="header-section-number">6.10</span> Convert a frequency table into a contingency table.<a href="contingency-tables.html#convert-a-frequency-table-into-a-contingency-table." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <a href="http://www.cookbook-r.com/Manipulating_data/Converting_between_data_frames_and_contingency_tables/">Cookbook for R</a> also shows how you can convert a frequency table into a contingency table using the base R <code>xtabs()</code> function.</p>
<p>As a reminder, <code>freq_tbl</code> was created above in the section on <a href="contingency-tables.html#man-freq-tbl">manually creating a frequency table.</a></p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="contingency-tables.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(count <span class="sc">~</span> appendectomy <span class="sc">+</span> infection, <span class="at">data =</span> freq_tbl)</span></code></pre></div>
<pre><code>##             infection
## appendectomy  No Yes
##          No   78   1
##          Yes 124   7</code></pre>
<p class="warning">
âš ï¸<strong>Warning:</strong> Notice that the â€œNoâ€ category comes before the â€œYesâ€ category by default when passing a frequency table to the <code>xtabs()</code> function. This typically not the order we would put them in for analysis. To prevent this from happening, change the ordering of the factor levels in the frequency table (demonstrated below).
</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="contingency-tables.html#cb319-1" aria-hidden="true" tabindex="-1"></a>freq_tbl_yn <span class="ot">&lt;-</span> freq_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb319-2"><a href="contingency-tables.html#cb319-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb319-3"><a href="contingency-tables.html#cb319-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">appendectomy =</span> <span class="fu">factor</span>(appendectomy, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)),</span>
<span id="cb319-4"><a href="contingency-tables.html#cb319-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">infection =</span> <span class="fu">factor</span>(infection, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>))</span>
<span id="cb319-5"><a href="contingency-tables.html#cb319-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="contingency-tables.html#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(count <span class="sc">~</span> appendectomy <span class="sc">+</span> infection, <span class="at">data =</span> freq_tbl_yn)</span></code></pre></div>
<pre><code>##             infection
## appendectomy Yes  No
##          Yes   7 124
##          No    1  78</code></pre>
</div>
<div id="convert-a-frequency-table-into-a-data-frame-of-observations." class="section level2 hasAnchor" number="6.11">
<h2><span class="header-section-number">6.11</span> Convert a frequency table into a data frame of observations.<a href="contingency-tables.html#convert-a-frequency-table-into-a-data-frame-of-observations." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We already saw how to do this <a href="contingency-tables.html#table-from-matrix-to-df-obs">above</a> as an intermediate step between a contingency table and a data frame of observations.</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="contingency-tables.html#cb322-1" aria-hidden="true" tabindex="-1"></a>freq_tbl <span class="sc">%&gt;%</span> </span>
<span id="cb322-2"><a href="contingency-tables.html#cb322-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">countsToCases</span>(<span class="st">&quot;count&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 210 Ã— 2
##    appendectomy infection
##    &lt;chr&gt;        &lt;chr&gt;    
##  1 Yes          Yes      
##  2 Yes          Yes      
##  3 Yes          Yes      
##  4 Yes          Yes      
##  5 Yes          Yes      
##  6 Yes          Yes      
##  7 Yes          Yes      
##  8 Yes          No       
##  9 Yes          No       
## 10 Yes          No       
## # â€¦ with 200 more rows</code></pre>
</div>
<div id="bottom-line" class="section level2 hasAnchor" number="6.12">
<h2><span class="header-section-number">6.12</span> Bottom line<a href="contingency-tables.html#bottom-line" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This section briefly distill down everything from above into the most common scenario we are actually working on â€“ Manually create a contingency table and then convert it to a data frame of observations.</p>
<p>When we open a open a book or journal article and see a 2x2 table, or when we just decide to create a 2x2 table from scratch to do some experimenting, it looks like itâ€™s best to start with a matrix and convert it to a table object.</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb324-1"><a href="contingency-tables.html#cb324-1" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb324-2"><a href="contingency-tables.html#cb324-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">7</span>, <span class="at">b =</span> <span class="dv">124</span>, <span class="at">c =</span> <span class="dv">1</span>, <span class="at">d =</span> <span class="dv">78</span>),</span>
<span id="cb324-3"><a href="contingency-tables.html#cb324-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb324-4"><a href="contingency-tables.html#cb324-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb324-5"><a href="contingency-tables.html#cb324-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb324-6"><a href="contingency-tables.html#cb324-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-7"><a href="contingency-tables.html#cb324-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb324-8"><a href="contingency-tables.html#cb324-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb324-9"><a href="contingency-tables.html#cb324-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb324-10"><a href="contingency-tables.html#cb324-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb324-11"><a href="contingency-tables.html#cb324-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb324-12"><a href="contingency-tables.html#cb324-12" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(matrix_ct)</span>
<span id="cb324-13"><a href="contingency-tables.html#cb324-13" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
<p>You can go ahead and convert to a table at this point, but you donâ€™t have to. Look back at the <a href="contingency-tables.html#why">section on why to consider using a table object</a>, but for now, I canâ€™t come up with a good reason to do this off the top of my head.</p>
<p>To then convert that contingency table to a data frame of observations, we use can simply use the following code.</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb326-1"><a href="contingency-tables.html#cb326-1" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="sc">%&gt;%</span> </span>
<span id="cb326-2"><a href="contingency-tables.html#cb326-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.table</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb326-3"><a href="contingency-tables.html#cb326-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb326-4"><a href="contingency-tables.html#cb326-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">countsToCases</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb326-5"><a href="contingency-tables.html#cb326-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>()</span></code></pre></div>
<pre><code>## # A tibble: 210 Ã— 2
##    Appendectomy Infection
##    &lt;fct&gt;        &lt;fct&gt;    
##  1 Yes          Yes      
##  2 Yes          Yes      
##  3 Yes          Yes      
##  4 Yes          Yes      
##  5 Yes          Yes      
##  6 Yes          Yes      
##  7 Yes          Yes      
##  8 No           Yes      
##  9 Yes          No       
## 10 Yes          No       
## # â€¦ with 200 more rows</code></pre>
</div>
<div id="helper-functions" class="section level2 hasAnchor" number="6.13">
<h2><span class="header-section-number">6.13</span> Helper functions<a href="contingency-tables.html#helper-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In some of the cases above, the solutions may be slightly unsatisfying, but they seem to work reasonably well. In this section, we create some helper functions to make working with contingency tables even easier â€“ especially in the context of working with the <code>freqtables</code> package. At some point, these functions may work their way into the <code>freqtables</code> package.</p>
<div id="create-a-contingency-table" class="section level3 hasAnchor" number="6.13.1">
<h3><span class="header-section-number">6.13.1</span> Create a contingency table<a href="contingency-tables.html#create-a-contingency-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After playing around with this a little bit, I couldnâ€™t come up with a function that was really any better (i.e., less lines of code or easier to understand) than just creating the matrix using the standard base R functions. This is especially true when contingency tables However, Iâ€™m leaving the code here just in case.</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="contingency-tables.html#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code for manually creating a matrix contingency table.</span></span>
<span id="cb328-2"><a href="contingency-tables.html#cb328-2" aria-hidden="true" tabindex="-1"></a>matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb328-3"><a href="contingency-tables.html#cb328-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">7</span>, <span class="at">b =</span> <span class="dv">124</span>, <span class="at">c =</span> <span class="dv">1</span>, <span class="at">d =</span> <span class="dv">78</span>),</span>
<span id="cb328-4"><a href="contingency-tables.html#cb328-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb328-5"><a href="contingency-tables.html#cb328-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb328-6"><a href="contingency-tables.html#cb328-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb328-7"><a href="contingency-tables.html#cb328-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-8"><a href="contingency-tables.html#cb328-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb328-9"><a href="contingency-tables.html#cb328-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb328-10"><a href="contingency-tables.html#cb328-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Infection =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb328-11"><a href="contingency-tables.html#cb328-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb328-12"><a href="contingency-tables.html#cb328-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-13"><a href="contingency-tables.html#cb328-13" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(matrix_ct)</span>
<span id="cb328-14"><a href="contingency-tables.html#cb328-14" aria-hidden="true" tabindex="-1"></a>matrix_ct_margins</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 124 131
##          No    1  78  79
##          Sum   8 202 210</code></pre>
<p>Here is the function code</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb330-1"><a href="contingency-tables.html#cb330-1" aria-hidden="true" tabindex="-1"></a>contingency_table <span class="ot">&lt;-</span> <span class="cf">function</span>(.values, ncol, dim_names, <span class="at">margins =</span> <span class="cn">FALSE</span>) {</span>
<span id="cb330-2"><a href="contingency-tables.html#cb330-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the matrix</span></span>
<span id="cb330-3"><a href="contingency-tables.html#cb330-3" aria-hidden="true" tabindex="-1"></a>  matrix_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(.values, <span class="at">ncol =</span> ncol, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb330-4"><a href="contingency-tables.html#cb330-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb330-5"><a href="contingency-tables.html#cb330-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Optionally add dimnames</span></span>
<span id="cb330-6"><a href="contingency-tables.html#cb330-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">missing</span>(dim_names)) {</span>
<span id="cb330-7"><a href="contingency-tables.html#cb330-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dimnames</span>(matrix_ct) <span class="ot">&lt;-</span> dim_names</span>
<span id="cb330-8"><a href="contingency-tables.html#cb330-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb330-9"><a href="contingency-tables.html#cb330-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb330-10"><a href="contingency-tables.html#cb330-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Optionally add margins</span></span>
<span id="cb330-11"><a href="contingency-tables.html#cb330-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (margins) {</span>
<span id="cb330-12"><a href="contingency-tables.html#cb330-12" aria-hidden="true" tabindex="-1"></a>    matrix_ct <span class="ot">&lt;-</span> <span class="fu">addmargins</span>(matrix_ct)</span>
<span id="cb330-13"><a href="contingency-tables.html#cb330-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb330-14"><a href="contingency-tables.html#cb330-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb330-15"><a href="contingency-tables.html#cb330-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return contingency table</span></span>
<span id="cb330-16"><a href="contingency-tables.html#cb330-16" aria-hidden="true" tabindex="-1"></a>  matrix_ct</span>
<span id="cb330-17"><a href="contingency-tables.html#cb330-17" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Testing with a 2x2 table</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="contingency-tables.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contingency_table</span>(</span>
<span id="cb331-2"><a href="contingency-tables.html#cb331-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">.values =</span> <span class="fu">c</span>(</span>
<span id="cb331-3"><a href="contingency-tables.html#cb331-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">7</span>, <span class="dv">224</span>,</span>
<span id="cb331-4"><a href="contingency-tables.html#cb331-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">78</span></span>
<span id="cb331-5"><a href="contingency-tables.html#cb331-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb331-6"><a href="contingency-tables.html#cb331-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb331-7"><a href="contingency-tables.html#cb331-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">dim_names =</span> <span class="fu">list</span>(</span>
<span id="cb331-8"><a href="contingency-tables.html#cb331-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Appendectomy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb331-9"><a href="contingency-tables.html#cb331-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Infection    =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</span>
<span id="cb331-10"><a href="contingency-tables.html#cb331-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb331-11"><a href="contingency-tables.html#cb331-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="cn">TRUE</span></span>
<span id="cb331-12"><a href="contingency-tables.html#cb331-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##             Infection
## Appendectomy Yes  No Sum
##          Yes   7 224 231
##          No    1  78  79
##          Sum   8 302 310</code></pre>
<p>What if we need to make a contingency table for variables with more than two levels? For example:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="contingency-tables.html#cb333-1" aria-hidden="true" tabindex="-1"></a>matrix_3_ct <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb333-2"><a href="contingency-tables.html#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb333-3"><a href="contingency-tables.html#cb333-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb333-4"><a href="contingency-tables.html#cb333-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb333-5"><a href="contingency-tables.html#cb333-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span></span>
<span id="cb333-6"><a href="contingency-tables.html#cb333-6" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb333-7"><a href="contingency-tables.html#cb333-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb333-8"><a href="contingency-tables.html#cb333-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb333-9"><a href="contingency-tables.html#cb333-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb333-10"><a href="contingency-tables.html#cb333-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-11"><a href="contingency-tables.html#cb333-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matrix_3_ct) <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb333-12"><a href="contingency-tables.html#cb333-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">age      =</span> <span class="fu">c</span>(<span class="st">&quot;Young&quot;</span>, <span class="st">&quot;Middle&quot;</span>, <span class="st">&quot;Old&quot;</span>),</span>
<span id="cb333-13"><a href="contingency-tables.html#cb333-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">severity =</span> <span class="fu">c</span>(<span class="st">&quot;Mild&quot;</span>, <span class="st">&quot;Moderate&quot;</span>, <span class="st">&quot;Severe&quot;</span>)</span>
<span id="cb333-14"><a href="contingency-tables.html#cb333-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb333-15"><a href="contingency-tables.html#cb333-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-16"><a href="contingency-tables.html#cb333-16" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(matrix_3_ct)</span></code></pre></div>
<pre><code>##         severity
## age      Mild Moderate Severe Sum
##   Young     1        2      1   4
##   Middle    0        1      1   2
##   Old       0        1      2   3
##   Sum       1        4      4   9</code></pre>
<p>Testing with a 3x3 table</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="contingency-tables.html#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contingency_table</span>(</span>
<span id="cb335-2"><a href="contingency-tables.html#cb335-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">.values =</span> <span class="fu">c</span>(</span>
<span id="cb335-3"><a href="contingency-tables.html#cb335-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>,</span>
<span id="cb335-4"><a href="contingency-tables.html#cb335-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb335-5"><a href="contingency-tables.html#cb335-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span></span>
<span id="cb335-6"><a href="contingency-tables.html#cb335-6" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb335-7"><a href="contingency-tables.html#cb335-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ncol =</span> <span class="dv">3</span>,</span>
<span id="cb335-8"><a href="contingency-tables.html#cb335-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">dim_names =</span> <span class="fu">list</span>(</span>
<span id="cb335-9"><a href="contingency-tables.html#cb335-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">age      =</span> <span class="fu">c</span>(<span class="st">&quot;Young&quot;</span>, <span class="st">&quot;Middle&quot;</span>, <span class="st">&quot;Old&quot;</span>),</span>
<span id="cb335-10"><a href="contingency-tables.html#cb335-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">severity =</span> <span class="fu">c</span>(<span class="st">&quot;Mild&quot;</span>, <span class="st">&quot;Moderate&quot;</span>, <span class="st">&quot;Severe&quot;</span>)</span>
<span id="cb335-11"><a href="contingency-tables.html#cb335-11" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb335-12"><a href="contingency-tables.html#cb335-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">margins =</span> <span class="cn">TRUE</span></span>
<span id="cb335-13"><a href="contingency-tables.html#cb335-13" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##         severity
## age      Mild Moderate Severe Sum
##   Young     1        2      1   4
##   Middle    0        1      1   2
##   Old       0        1      2   3
##   Sum       1        4      4   9</code></pre>
<p>This works, but Iâ€™m not sure what advantage it has over the manual code. Itâ€™s roughly the same number of lines and itâ€™s necessarily any easier to read or understand.</p>
<p>What would the ideal solution even look like? Maybe something like this?</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="contingency-tables.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Doesn&#39;t run</span></span>
<span id="cb337-2"><a href="contingency-tables.html#cb337-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contingency_table</span>(</span>
<span id="cb337-3"><a href="contingency-tables.html#cb337-3" aria-hidden="true" tabindex="-1"></a>                          <span class="sc">|</span> Wound infection <span class="sc">|</span></span>
<span id="cb337-4"><a href="contingency-tables.html#cb337-4" aria-hidden="true" tabindex="-1"></a><span class="er">|</span><span class="sc">-------------------------</span><span class="er">|</span><span class="sc">-----------------</span><span class="er">|</span><span class="sc">-----</span><span class="er">|</span></span>
<span id="cb337-5"><a href="contingency-tables.html#cb337-5" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> Incidental appendectomy <span class="sc">|</span> Yes             <span class="sc">|</span> No  <span class="sc">|</span> </span>
<span id="cb337-6"><a href="contingency-tables.html#cb337-6" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> Yes                     <span class="sc">|</span> <span class="dv">7</span>               <span class="sc">|</span> <span class="dv">124</span> <span class="sc">|</span></span>
<span id="cb337-7"><a href="contingency-tables.html#cb337-7" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> No                      <span class="sc">|</span> <span class="dv">1</span>               <span class="sc">|</span> <span class="dv">78</span>  <span class="sc">|</span></span>
<span id="cb337-8"><a href="contingency-tables.html#cb337-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Or perhaps a Shiny app that would allow to enter data into a spreadsheet-like interface?</p>
</div>
<div id="here-down-needs-refinement" class="section level3 hasAnchor" number="6.13.2">
<h3><span class="header-section-number">6.13.2</span> ğŸ”´Here down needs refinement<a href="contingency-tables.html#here-down-needs-refinement" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="counts-to-cases" class="section level3 hasAnchor" number="6.13.3">
<h3><span class="header-section-number">6.13.3</span> Counts to cases<a href="contingency-tables.html#counts-to-cases" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Rewrite this function</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="contingency-tables.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert from data frame of counts to data frame of cases.</span></span>
<span id="cb338-2"><a href="contingency-tables.html#cb338-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `countcol` is the name of the column containing the counts</span></span>
<span id="cb338-3"><a href="contingency-tables.html#cb338-3" aria-hidden="true" tabindex="-1"></a><span class="co"># From: https://cran.r-project.org/web/packages/DescTools/vignettes/TablesInR.pdf</span></span>
<span id="cb338-4"><a href="contingency-tables.html#cb338-4" aria-hidden="true" tabindex="-1"></a>countsToCases <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">countcol =</span> <span class="st">&quot;Freq&quot;</span>) {</span>
<span id="cb338-5"><a href="contingency-tables.html#cb338-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the row indices to pull from x</span></span>
<span id="cb338-6"><a href="contingency-tables.html#cb338-6" aria-hidden="true" tabindex="-1"></a>    idx <span class="ot">&lt;-</span> <span class="fu">rep.int</span>(<span class="fu">seq_len</span>(<span class="fu">nrow</span>(x)), x[[countcol]])</span>
<span id="cb338-7"><a href="contingency-tables.html#cb338-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-8"><a href="contingency-tables.html#cb338-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Drop count column</span></span>
<span id="cb338-9"><a href="contingency-tables.html#cb338-9" aria-hidden="true" tabindex="-1"></a>    x[[countcol]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb338-10"><a href="contingency-tables.html#cb338-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-11"><a href="contingency-tables.html#cb338-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get the rows from x</span></span>
<span id="cb338-12"><a href="contingency-tables.html#cb338-12" aria-hidden="true" tabindex="-1"></a>    x[idx, ]</span>
<span id="cb338-13"><a href="contingency-tables.html#cb338-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>[Insert function code here]</p>
</div>
<div id="freqtable-to-contingency-table" class="section level3 hasAnchor" number="6.13.4">
<h3><span class="header-section-number">6.13.4</span> Freqtable to contingency table<a href="contingency-tables.html#freqtable-to-contingency-table" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="contingency-table-to-freqtable" class="section level3 hasAnchor" number="6.13.5">
<h3><span class="header-section-number">6.13.5</span> Contingency table to freqtable<a href="contingency-tables.html#contingency-table-to-freqtable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="freqtable-to-data-frame-of-observations" class="section level3 hasAnchor" number="6.13.6">
<h3><span class="header-section-number">6.13.6</span> Freqtable to data frame of observations<a href="contingency-tables.html#freqtable-to-data-frame-of-observations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!--
Clean up and add session info
-->

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="column-names-prepping-many-for-merge.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="effect-measure-modification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
